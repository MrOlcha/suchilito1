"use strict";(()=>{var e={};e.id=547,e.ids=[547],e.modules={56534:e=>{e.exports=require("lodash/compact.js")},61928:e=>{e.exports=require("lodash/each.js")},2323:e=>{e.exports=require("lodash/filter.js")},26402:e=>{e.exports=require("lodash/find.js")},40416:e=>{e.exports=require("lodash/flatten.js")},4034:e=>{e.exports=require("lodash/get.js")},49164:e=>{e.exports=require("lodash/groupBy.js")},79923:e=>{e.exports=require("lodash/isArray.js")},51126:e=>{e.exports=require("lodash/isBoolean.js")},55220:e=>{e.exports=require("lodash/isEqual.js")},8412:e=>{e.exports=require("lodash/isFinite.js")},86085:e=>{e.exports=require("lodash/isInteger.js")},8086:e=>{e.exports=require("lodash/isNil.js")},4320:e=>{e.exports=require("lodash/isNumber.js")},48700:e=>{e.exports=require("lodash/isObject.js")},83108:e=>{e.exports=require("lodash/isString.js")},94921:e=>{e.exports=require("lodash/keyBy.js")},18915:e=>{e.exports=require("lodash/keys.js")},47229:e=>{e.exports=require("lodash/map.js")},48812:e=>{e.exports=require("lodash/omit.js")},76721:e=>{e.exports=require("lodash/pickBy.js")},79638:e=>{e.exports=require("lodash/set.js")},14416:e=>{e.exports=require("lodash/some.js")},6780:e=>{e.exports=require("lodash/sortBy.js")},30649:e=>{e.exports=require("lodash/times.js")},81090:e=>{e.exports=require("lodash/unset.js")},1907:e=>{e.exports=require("lodash/values.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},39491:e=>{e.exports=require("assert")},14300:e=>{e.exports=require("buffer")},32081:e=>{e.exports=require("child_process")},6113:e=>{e.exports=require("crypto")},82361:e=>{e.exports=require("events")},57147:e=>{e.exports=require("fs")},13685:e=>{e.exports=require("http")},85158:e=>{e.exports=require("http2")},95687:e=>{e.exports=require("https")},41808:e=>{e.exports=require("net")},15673:e=>{e.exports=require("node:events")},97742:e=>{e.exports=require("node:process")},47261:e=>{e.exports=require("node:util")},22037:e=>{e.exports=require("os")},71017:e=>{e.exports=require("path")},85477:e=>{e.exports=require("punycode")},83788:e=>{e.exports=require("querystring")},12781:e=>{e.exports=require("stream")},24404:e=>{e.exports=require("tls")},76224:e=>{e.exports=require("tty")},57310:e=>{e.exports=require("url")},73837:e=>{e.exports=require("util")},59796:e=>{e.exports=require("zlib")},31059:(e,r,s)=>{s.r(r),s.d(r,{headerHooks:()=>h,originalPathname:()=>g,requestAsyncStorage:()=>c,routeModule:()=>n,serverHooks:()=>q,staticGenerationAsyncStorage:()=>x,staticGenerationBailout:()=>j});var o={};s.r(o),s.d(o,{GET:()=>GET,dynamic:()=>l});var t=s(10884),a=s(16132),u=s(95798),i=s(59483);let l="force-dynamic",p=null,d=0;async function GET(e){try{let r;console.log("\uD83C\uDFEA Sucursales API called");let{searchParams:s}=new URL(e.url),o=s.get("ciudad");console.log("\uD83D\uDCCD Ciudad filter:",o||"ninguna");let t=Date.now();p&&t-d<3e5?(console.log("⚡ Using cached sucursales data"),r=p):(console.log("\uD83D\uDD04 Fetching fresh sucursales data from Google Sheets"),p=r=await i.F.getSucursales(),d=t,console.log("\uD83D\uDCBE Sucursales data cached"));let a=r;return o&&(a=r.filter(e=>e.ciudad.toLowerCase()===o.toLowerCase())),console.log("✅ Sucursales API response:",{total:a.length,sucursales:a.map(e=>({nombre:e.nombre,ciudad:e.ciudad,activa:e.activa}))}),u.Z.json({success:!0,data:a,lastUpdated:new Date().toISOString(),cached:!0},{headers:{"Cache-Control":"public, s-maxage=300, stale-while-revalidate=3600"}})}catch(e){return console.error("❌ Sucursales API Error:",e),u.Z.json({success:!1,error:"Failed to fetch sucursales data",message:e instanceof Error?e.message:"Unknown error"},{status:500})}}let n=new t.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/sucursales/route",pathname:"/api/sucursales",filename:"route",bundlePath:"app/api/sucursales/route"},resolvedPagePath:"/var/www/mazuhi-web/src/app/api/sucursales/route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:c,staticGenerationAsyncStorage:x,serverHooks:q,headerHooks:h,staticGenerationBailout:j}=n,g="/api/sucursales/route"}};var r=require("../../../webpack-runtime.js");r.C(e);var __webpack_exec__=e=>r(r.s=e),s=r.X(0,[997,737,483],()=>__webpack_exec__(31059));module.exports=s})();