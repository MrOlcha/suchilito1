"use strict";(()=>{var e={};e.id=7991,e.ids=[7991],e.modules={30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},84821:(e,t,a)=>{a.r(t),a.d(t,{headerHooks:()=>l,originalPathname:()=>g,requestAsyncStorage:()=>m,routeModule:()=>c,serverHooks:()=>d,staticGenerationAsyncStorage:()=>p,staticGenerationBailout:()=>h});var r={};a.r(r),a.d(r,{GET:()=>GET,dynamic:()=>i,revalidate:()=>u});var o=a(10884),s=a(16132),n=a(95798);let i="force-dynamic",u=0;async function GET(){try{console.log("\uD83D\uDD04 Fetching menu data from POS API (sin cache)...");let e=await fetch("http://localhost:3000/pos/api/menu",{headers:{"Content-Type":"application/json"},cache:"no-store"});if(!e.ok)throw Error(`POS API responded with status: ${e.status}`);let t=await e.json(),a=t.map(e=>({...e,id:e.nombre.toLowerCase().replace(/\s+/g,"-"),items:e.items.map(e=>{let t=e.imagen_url;return t&&!t.startsWith("http")&&(t=t.startsWith("/pos/")?`https://beta.mazuhi.com${t}`:`https://beta.mazuhi.com/pos${t}`),{...e,imagen_url:t}})}));return console.log("✅ Menu data fetched from POS successfully"),n.Z.json({success:!0,data:a,lastUpdated:new Date().toISOString(),cached:!1,source:"pos-database",stats:{categories:a.length,totalItems:a.reduce((e,t)=>e+t.items.length,0)}},{headers:{"Cache-Control":"no-store, no-cache, must-revalidate, max-age=0",Pragma:"no-cache",Expires:"0"}})}catch(e){return console.error("❌ Menu API Error:",e),n.Z.json({success:!1,error:"Failed to fetch menu data from POS",message:e instanceof Error?e.message:"Unknown error",timestamp:new Date().toISOString()},{status:500})}}let c=new o.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/menu/route",pathname:"/api/menu",filename:"route",bundlePath:"app/api/menu/route"},resolvedPagePath:"/var/www/mazuhi-web/src/app/api/menu/route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:m,staticGenerationAsyncStorage:p,serverHooks:d,headerHooks:l,staticGenerationBailout:h}=c,g="/api/menu/route"}};var t=require("../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),a=t.X(0,[1997],()=>__webpack_exec__(84821));module.exports=a})();