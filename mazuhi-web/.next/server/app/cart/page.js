(()=>{var e={};e.id=1565,e.ids=[1565],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},57310:e=>{"use strict";e.exports=require("url")},19435:(e,a,t)=>{"use strict";t.r(a),t.d(a,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>d,routeModule:()=>h,tree:()=>c});var s=t(67096),r=t(16132),l=t(37284),n=t.n(l),i=t(32564),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);t.d(a,o);let c=["",{children:["cart",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,95850)),"/var/www/mazuhi-web/src/app/cart/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,93897)),"/var/www/mazuhi-web/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9291,23)),"next/dist/client/components/not-found-error"]}],d=["/var/www/mazuhi-web/src/app/cart/page.tsx"],m="/cart/page",x={require:t,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/cart/page",pathname:"/cart",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},57714:(e,a,t)=>{Promise.resolve().then(t.bind(t,42010))},42010:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>CartPage});var s=t(30784),r=t(9885),l=t(78133),n=t(94571),i=t(52451),o=t.n(i),c=t(34635),d=t(13524),m=t(40990);function HeartIcon({title:e,titleId:a,...t},s){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":a},t),e?r.createElement("title",{id:a},e):null,r.createElement("path",{d:"m11.645 20.91-.007-.003-.022-.012a15.247 15.247 0 0 1-.383-.218 25.18 25.18 0 0 1-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0 1 12 5.052 5.5 5.5 0 0 1 16.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 0 1-4.244 3.17 15.247 15.247 0 0 1-.383.219l-.022.012-.007.004-.003.001a.752.752 0 0 1-.704 0l-.003-.001Z"}))}let x=r.forwardRef(HeartIcon);var h=t(11440),p=t.n(h),u=t(53141),g=t(49125),y=t(57048),b=t(64918),j=t(78750),f=t(38887),v=t(31511),N=t(21790),w=t(3190),C=t(82671),k=t(90880),E=t(41751),P=t(9317),D=t(7537),$=t(34087),Z=t(78157),A=t(30781);function CheckoutModal({isOpen:e,onClose:a,onComplete:t}){let{cart:n}=(0,l.useCart)(),{user:i,isLoading:o}=(0,Z.useAuth)(),[c,d]=(0,r.useState)(0),[m,x]=(0,r.useState)({contact:{name:"",phone:""},delivery:{type:"pickup"},payment:{method:"cash"},notes:""}),[h,p]=(0,r.useState)({}),[u,T]=(0,r.useState)(!1);(0,r.useEffect)(()=>{e&&!o&&(console.log("\uD83D\uDD0D CheckoutModal abierto - Estado del usuario:",{user:i?{telefono:i.telefono,correo:i.correo}:null,isLoading:o,currentStep:c}),i?(console.log("✅ Usuario detectado - Saltando paso de contacto"),d(0),x(e=>({...e,contact:{name:`${i.telefono}`,phone:i.telefono,email:i.correo}}))):(console.log("❌ Sin usuario - Mostrar paso de contacto"),d(0),x({contact:{name:"",phone:""},delivery:{type:"pickup"},payment:{method:"cash"},notes:""})))},[e,o,i]);let _="delivery"===m.delivery.type?30:0,F=[{id:"contact",title:"Informaci\xf3n de Contacto",description:"Tu nombre y tel\xe9fono",isCompleted:!1,isActive:0===c},{id:"delivery",title:"M\xe9todo de Entrega",description:"Recojo o delivery",isCompleted:!1,isActive:i?0===c:1===c},{id:"payment",title:"M\xe9todo de Pago",description:"Efectivo o tarjeta",isCompleted:!1,isActive:i?1===c:2===c},{id:"review",title:"Revisar Pedido",description:"Confirma tu orden",isCompleted:!1,isActive:i?2===c:3===c}],updateCheckoutData=e=>{x(a=>({...a,...e}))},validateStep=e=>{let a={},t=i?e+1:e;switch(t){case 0:if(!i){if("cc"===m.contact.name.toLowerCase().trim())break;m.contact.name.trim()||(a.contact={name:"El nombre es requerido"}),m.contact.phone.trim()||(a.contact={...a.contact,phone:"El tel\xe9fono es requerido"})}break;case 1:"delivery"!==m.delivery.type||m.delivery.address?.trim()||(a.delivery={address:"La direcci\xf3n es requerida para delivery"});break;case 2:"cash"!==m.payment.method||m.payment.exactChange||m.payment.cashAmount||(a.payment={cashAmount:"Selecciona la denominaci\xf3n con la que pagar\xe1s o marca pago exacto"})}return p(a),0===Object.keys(a).length},nextStep=async()=>{let e=m.contact.name,t=e.toLowerCase().trim();if(console.log("\uD83D\uDD0D DEBUG nextStep:",{nombreActual:e,nombreLimpio:t,esCC:"cc"===t,currentStep:c,user:!!i}),0===c&&!i&&"cc"===t){console.log("✅ DETECTADO CC - Enviando notificaci\xf3n de mesero"),p({}),T(!0);try{let e=await (0,A.Gl)(n);console.log("\uD83D\uDCE4 Resultado de notificaci\xf3n:",e),e.success?(alert("✅ Notificaci\xf3n de mesero enviada"),a()):alert(`Error: ${e.message}`)}catch(e){console.error("Error al enviar notificaci\xf3n de mesero:",e),alert("Error al enviar notificaci\xf3n de mesero")}finally{T(!1)}return}let s=i?3:4;if(validateStep(c)){let e=c+1;e<s&&d(e)}},formatPhone=e=>{let a=e.replace(/\D/g,"");return a.length<=3?a:a.length<=6?`${a.slice(0,3)}-${a.slice(3)}`:`${a.slice(0,3)}-${a.slice(3,6)}-${a.slice(6,10)}`},handleComplete=async()=>{if(validateStep(c)){T(!0);try{let e=(0,A.m1)(),a=await (0,A.KU)(m,n,e);a.success?t({...m,orderNumber:e,success:!0,message:a.message}):alert(`Error: ${a.message}`)}catch(e){console.error("Error al procesar el pedido:",e),alert("Error al procesar el pedido. Por favor intenta nuevamente.")}T(!1)}};return(0,s.jsxs)(g.Vq,{open:e,onClose:a,className:"relative z-50",children:[s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm"}),s.jsx("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:s.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:(0,s.jsxs)(g.EM,{className:"w-full max-w-2xl transform overflow-hidden rounded-3xl bg-white shadow-2xl transition-all",children:[(0,s.jsxs)("div",{className:"bg-gradient-to-r from-orange-500 to-red-500 px-8 py-6 text-white",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Finalizar Pedido"}),s.jsx("p",{className:"text-orange-100 mt-1",children:F[c].title})]}),s.jsx("button",{onClick:a,className:"text-white/80 hover:text-white transition-colors",children:s.jsx(y.Z,{className:"h-6 w-6"})})]}),s.jsx("div",{className:"mt-6",children:s.jsx("div",{className:"flex items-center justify-between",children:F.map((e,a)=>(0,s.jsxs)("div",{className:"flex items-center",children:[s.jsx("div",{className:`
                        flex items-center justify-center w-8 h-8 rounded-full text-sm font-medium
                        ${a<=c?"bg-white text-orange-500":"bg-orange-400 text-white"}
                      `,children:a<c?s.jsx(b.Z,{className:"w-4 h-4"}):a+1}),a<F.length-1&&s.jsx("div",{className:`
                          w-12 h-0.5 mx-2
                          ${a<c?"bg-white":"bg-orange-400"}
                        `})]},e.id))})})]}),(0,s.jsxs)("div",{className:"p-8",children:[o&&s.jsx("div",{className:"flex items-center justify-center h-96",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 rounded-full border-4 border-orange-200 border-t-orange-500 animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Verificando tu sesi\xf3n..."})]})}),!o&&(0,s.jsxs)(s.Fragment,{children:[0===c&&!i&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[s.jsx(j.Z,{className:"w-16 h-16 text-orange-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Informaci\xf3n de Contacto"}),s.jsx("p",{className:"text-gray-600",children:"Necesitamos tus datos para contactarte sobre tu pedido"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre Completo *"}),s.jsx("input",{type:"text",value:m.contact.name,onChange:e=>{let a=e.target.value;updateCheckoutData({contact:{...m.contact,name:a}}),"cc"===a.toLowerCase().trim()&&p({})},className:`w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${h.contact?.name?"border-red-500":"border-gray-300"}`,placeholder:"Ej: Juan P\xe9rez"}),h.contact?.name&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.contact.name})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"N\xfamero de Tel\xe9fono *"}),s.jsx("input",{type:"tel",value:formatPhone(m.contact.phone),onChange:e=>updateCheckoutData({contact:{...m.contact,phone:e.target.value.replace(/\D/g,"")}}),className:`w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${h.contact?.phone?"border-red-500":"border-gray-300"}`,placeholder:"55-1234-5678",maxLength:12}),h.contact?.phone&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.contact.phone})]})]}),(i?0===c:1===c)&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[s.jsx(f.Z,{className:"w-16 h-16 text-orange-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"\xbfC\xf3mo prefieres recibir tu pedido?"}),s.jsx("p",{className:"text-gray-600",children:"Elige entre recoger en sucursal o delivery a domicilio"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("button",{onClick:()=>updateCheckoutData({delivery:{type:"pickup"}}),className:`p-6 border-2 rounded-2xl transition-all text-left ${"pickup"===m.delivery.type?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-gray-300"}`,children:[s.jsx(v.Z,{className:"w-8 h-8 text-orange-500 mb-3"}),s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Recoger en Sucursal"}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Recoge tu pedido en nuestro restaurante"}),(0,s.jsxs)("div",{className:"flex items-center text-sm text-orange-600",children:[s.jsx(N.Z,{className:"w-4 h-4 mr-1"}),"Listo en 30 min"]})]}),(0,s.jsxs)("button",{onClick:()=>updateCheckoutData({delivery:{type:"delivery",address:m.delivery.address||""}}),className:`p-6 border-2 rounded-2xl transition-all text-left ${"delivery"===m.delivery.type?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-gray-300"}`,children:[s.jsx(f.Z,{className:"w-8 h-8 text-orange-500 mb-3"}),s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Delivery a Domicilio"}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Te llevamos tu pedido hasta tu puerta"}),(0,s.jsxs)("div",{className:"flex items-center text-sm text-orange-600",children:[s.jsx(N.Z,{className:"w-4 h-4 mr-1"}),"Llega en 45 min"]})]})]}),"delivery"===m.delivery.type&&(0,s.jsxs)("div",{className:"mt-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Direcci\xf3n de Entrega *"}),s.jsx("textarea",{value:m.delivery.address||"",onChange:e=>updateCheckoutData({delivery:{...m.delivery,address:e.target.value}}),className:`w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${h.delivery?.address?"border-red-500":"border-gray-300"}`,placeholder:"Ingresa tu direcci\xf3n completa con referencias...",rows:3}),h.delivery?.address&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.delivery.address})]})]}),(i?1===c:2===c)&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[s.jsx(w.Z,{className:"w-16 h-16 text-orange-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"\xbfC\xf3mo vas a pagar?"}),(0,s.jsxs)("p",{className:"text-gray-600",children:["El pago se realiza al ","pickup"===m.delivery.type?"recoger":"recibir"," tu pedido"]}),"delivery"===m.delivery.type&&s.jsx("div",{className:"mt-4 text-sm text-orange-600 font-semibold bg-orange-50 rounded-xl py-2 px-4 inline-block",children:"Se realizar\xe1 un cobro adicional de $30.00 por tarifa de env\xedo a domicilio."})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("button",{onClick:()=>updateCheckoutData({payment:{method:"cash"}}),className:`p-6 border-2 rounded-2xl transition-all text-left ${"cash"===m.payment.method?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-gray-300"}`,children:[s.jsx(C.Z,{className:"w-8 h-8 text-orange-500 mb-3"}),s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Efectivo"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Paga en efectivo y te damos tu cambio"})]}),(0,s.jsxs)("button",{onClick:()=>updateCheckoutData({payment:{method:"card"}}),className:`p-6 border-2 rounded-2xl transition-all text-left ${"card"===m.payment.method?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-gray-300"}`,children:[s.jsx(w.Z,{className:"w-8 h-8 text-orange-500 mb-3"}),s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Tarjeta"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Paga con tarjeta de cr\xe9dito o d\xe9bito"})]})]}),"cash"===m.payment.method&&(0,s.jsxs)("div",{className:"mt-6",children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["\xbfCon cu\xe1nto vas a pagar? (Total: $",(n.total+_).toFixed(2),") *"]}),s.jsx("div",{className:"mb-4",children:(0,s.jsxs)("label",{className:"flex items-center p-4 border-2 rounded-xl cursor-pointer transition-all hover:bg-gray-50",children:[s.jsx("input",{type:"checkbox",checked:m.payment.exactChange||!1,onChange:e=>{updateCheckoutData({payment:{...m.payment,exactChange:e.target.checked,cashAmount:e.target.checked?n.total+_:m.payment.cashAmount}})},className:"mr-3"}),(0,s.jsxs)("span",{className:"text-sm font-medium",children:["Pago exacto: $",(n.total+_).toFixed(2)]})]})}),!m.payment.exactChange&&s.jsx("div",{className:"grid grid-cols-3 gap-2",children:$.o.map(e=>(0,s.jsxs)("button",{onClick:()=>updateCheckoutData({payment:{...m.payment,cashAmount:e.value}}),className:`p-3 border-2 rounded-xl text-center transition-all ${m.payment.cashAmount===e.value?"border-orange-500 bg-orange-50 text-orange-700":"border-gray-200 hover:border-gray-300"}`,children:[s.jsx("div",{className:"font-semibold",children:e.label}),m.payment.cashAmount===e.value&&(0,s.jsxs)("div",{className:"text-xs text-orange-600 mt-1",children:["Cambio: $",(e.value-(n.total+_)).toFixed(2)]})]},e.value))})]})]}),(i?2===c:3===c)&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[s.jsx(b.Z,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Revisa tu pedido"}),s.jsx("p",{className:"text-gray-600",children:"Confirma que todo est\xe9 correcto antes de enviar"})]}),(0,s.jsxs)("div",{className:"bg-gray-50 rounded-2xl p-6",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Resumen del Pedido"}),(0,s.jsxs)("div",{className:"mb-4 pb-4 border-b border-gray-200",children:[(0,s.jsxs)("div",{className:"flex items-center mb-2",children:[s.jsx(j.Z,{className:"w-5 h-5 text-gray-500 mr-2"}),s.jsx("span",{className:"font-medium",children:m.contact.name})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[s.jsx(k.Z,{className:"w-5 h-5 text-gray-500 mr-2"}),s.jsx("span",{children:formatPhone(m.contact.phone)})]})]}),(0,s.jsxs)("div",{className:"mb-4 pb-4 border-b border-gray-200",children:[(0,s.jsxs)("div",{className:"flex items-center mb-2",children:["pickup"===m.delivery.type?s.jsx(v.Z,{className:"w-5 h-5 text-gray-500 mr-2"}):s.jsx(f.Z,{className:"w-5 h-5 text-gray-500 mr-2"}),s.jsx("span",{className:"font-medium",children:"pickup"===m.delivery.type?"Recoger en Sucursal":"Delivery a Domicilio"})]}),m.delivery.address&&(0,s.jsxs)("div",{className:"flex items-start",children:[s.jsx(E.Z,{className:"w-5 h-5 text-gray-500 mr-2 mt-0.5"}),s.jsx("span",{className:"text-sm text-gray-600",children:m.delivery.address})]}),(0,s.jsxs)("div",{className:"flex items-center mt-2",children:[s.jsx(N.Z,{className:"w-5 h-5 text-gray-500 mr-2"}),(0,s.jsxs)("span",{className:"text-sm text-gray-600",children:["Tiempo estimado: ","pickup"===m.delivery.type?"30 min":"45 min"]})]})]}),(0,s.jsxs)("div",{className:"mb-4 pb-4 border-b border-gray-200",children:[(0,s.jsxs)("div",{className:"flex items-center mb-2",children:["cash"===m.payment.method?s.jsx(C.Z,{className:"w-5 h-5 text-gray-500 mr-2"}):s.jsx(w.Z,{className:"w-5 h-5 text-gray-500 mr-2"}),s.jsx("span",{className:"font-medium",children:"cash"===m.payment.method?"Efectivo":"Tarjeta"})]}),"cash"===m.payment.method&&m.payment.cashAmount&&s.jsx("div",{className:"text-sm text-gray-600",children:m.payment.exactChange?(0,s.jsxs)("span",{className:"text-green-600 font-medium",children:["✓ Pago exacto: $",m.payment.cashAmount.toFixed(2)]}):(0,s.jsxs)(s.Fragment,{children:["Pagas con: $",m.payment.cashAmount.toFixed(2),s.jsx("br",{}),"Tu cambio: $",("cash"===m.payment.method&&m.payment.cashAmount?m.payment.cashAmount-(n.total+_):0).toFixed(2)]})})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center text-base",children:[s.jsx("span",{className:"text-gray-600",children:"Subtotal productos"}),(0,s.jsxs)("span",{children:["$",n.total.toFixed(2)]})]}),_>0&&(0,s.jsxs)("div",{className:"flex justify-between items-center text-base",children:[s.jsx("span",{className:"text-gray-600",children:"Env\xedo a domicilio"}),(0,s.jsxs)("span",{className:"text-orange-600",children:["$",_.toFixed(2)]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center text-lg font-semibold pt-2 border-t border-gray-300",children:[s.jsx("span",{children:"Total a Pagar:"}),(0,s.jsxs)("span",{className:"text-orange-600",children:["$",(n.total+_).toFixed(2)]})]})]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notas Adicionales (Opcional)"}),s.jsx("textarea",{value:m.notes||"",onChange:e=>updateCheckoutData({notes:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all",placeholder:"Alguna instrucci\xf3n especial para tu pedido...",rows:3})]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center mt-8 pt-6 border-t border-gray-200",children:[(0,s.jsxs)("button",{onClick:()=>{d(e=>Math.max(e-1,0))},disabled:0===c,className:"flex items-center px-6 py-3 text-gray-600 hover:text-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[s.jsx(P.Z,{className:"w-5 h-5 mr-1"}),"Anterior"]}),c<F.length-1?s.jsx("button",{onClick:nextStep,disabled:u,className:"flex items-center px-8 py-3 bg-orange-600 text-white rounded-xl hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all transform hover:scale-105",children:u?(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{className:"animate-spin w-5 h-5 border-2 border-white border-t-transparent rounded-full mr-2"}),"Procesando..."]}):(0,s.jsxs)(s.Fragment,{children:["Continuar",s.jsx(D.Z,{className:"w-5 h-5 ml-1"})]})}):s.jsx("button",{onClick:handleComplete,disabled:u,className:"flex items-center px-8 py-3 bg-green-600 text-white rounded-xl hover:bg-green-700 disabled:opacity-50 transition-all transform hover:scale-105",children:u?(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{className:"animate-spin w-5 h-5 border-2 border-white border-t-transparent rounded-full mr-2"}),"Procesando..."]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(b.Z,{className:"w-5 h-5 mr-1"}),"Confirmar Pedido"]})})]})]})]})]})})})]})}function OrderSuccess({orderData:e,onNewOrder:a}){return(0,s.jsxs)(s.Fragment,{children:[s.jsx(u.default,{}),s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-emerald-50 to-teal-50 md:pt-24",children:s.jsx("div",{className:"container mx-auto px-4 py-8",children:(0,s.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-2xl mx-auto text-center",children:[s.jsx(n.E.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-24 h-24 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(b.Z,{className:"w-12 h-12 text-green-600"})}),s.jsx(n.E.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-3xl font-bold text-gray-800 mb-2",children:"\xa1Pedido Enviado Exitosamente!"}),s.jsx(n.E.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-gray-600 mb-8",children:"Tu pedido ha sido enviado a nuestro equipo y ser\xe1 procesado pronto."}),s.jsx(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white rounded-2xl p-6 shadow-lg mb-8",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"text-center md:text-left",children:[s.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"N\xfamero de Orden"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:e.orderNumber})]}),(0,s.jsxs)("div",{className:"text-center md:text-left",children:[(0,s.jsxs)("h3",{className:"font-semibold text-gray-800 mb-2 flex items-center justify-center md:justify-start",children:[s.jsx(N.Z,{className:"w-5 h-5 mr-2"}),"Tiempo Estimado"]}),s.jsx("p",{className:"text-xl font-semibold text-green-600",children:"pickup"===e.delivery.type?"15-20 min":"30-45 min"})]}),(0,s.jsxs)("div",{className:"text-center md:text-left",children:[(0,s.jsxs)("h3",{className:"font-semibold text-gray-800 mb-2 flex items-center justify-center md:justify-start",children:[s.jsx(k.Z,{className:"w-5 h-5 mr-2"}),"Datos de Contacto"]}),s.jsx("p",{className:"text-gray-700",children:e.contact.name}),s.jsx("p",{className:"text-gray-600",children:e.contact.phone})]}),(0,s.jsxs)("div",{className:"text-center md:text-left",children:[(0,s.jsxs)("h3",{className:"font-semibold text-gray-800 mb-2 flex items-center justify-center md:justify-start",children:[s.jsx(E.Z,{className:"w-5 h-5 mr-2"}),"M\xe9todo de Entrega"]}),s.jsx("p",{className:"text-gray-700",children:"pickup"===e.delivery.type?"Recojo en tienda":"Delivery a domicilio"}),e.delivery.address&&s.jsx("p",{className:"text-gray-600 text-sm",children:e.delivery.address})]}),(0,s.jsxs)("div",{className:"text-center md:text-left md:col-span-2",children:[s.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"M\xe9todo de Pago"}),s.jsx("p",{className:"text-gray-700",children:"cash"===e.payment.method?"Efectivo":"Tarjeta"}),"cash"===e.payment.method&&e.payment.cashAmount&&(0,s.jsxs)("p",{className:"text-gray-600 text-sm",children:["Paga con: $",e.payment.cashAmount.toFixed(2)]})]})]})}),(0,s.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-blue-50 rounded-xl p-6 mb-8",children:[s.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:"\xbfQu\xe9 sigue?"}),s.jsx("p",{className:"text-blue-700 text-sm",children:"Nuestro equipo ha recibido tu pedido y se pondr\xe1 en contacto contigo para confirmar los detalles. Te mantendremos informado sobre el estado de tu orden."})]}),(0,s.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsx(n.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:a,className:"bg-gradient-to-r from-blue-500 via-secondary-600 to-indigo-600 hover:from-blue-600 hover:via-secondary-700 hover:to-indigo-700 text-white font-bold py-3 px-8 rounded-full shadow-lg transition-all duration-300",children:"Realizar Nuevo Pedido"}),s.jsx(p(),{href:"/menu",children:s.jsx(n.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"border-2 border-gray-300 hover:border-gray-400 text-gray-700 hover:text-gray-800 font-semibold py-3 px-8 rounded-full transition-all duration-300",children:"Ver Men\xfa"})})]})]})})})]})}function CartPage(){let{cart:e,updateQuantity:a,removeFromCart:t,clearCart:i}=(0,l.useCart)(),[h,g]=(0,r.useState)(!1),[y,b]=(0,r.useState)(null),handleCheckoutComplete=e=>{g(!1),e.success&&(b(e),i())},[j,f]=(0,r.useState)("pickup"),v="delivery"===j?30:0;return y?s.jsx(OrderSuccess,{orderData:y,onNewOrder:()=>{b(null)}}):0===e.itemCount?(0,s.jsxs)(s.Fragment,{children:[s.jsx(u.default,{}),s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-cyan-50 md:pt-24",children:s.jsx("div",{className:"container mx-auto px-4 py-8",children:(0,s.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center max-w-md mx-auto",children:[(0,s.jsxs)("div",{className:"mb-8",children:[s.jsx("div",{className:"w-32 h-32 mx-auto mb-6 bg-gray-100 rounded-full flex items-center justify-center",children:s.jsx("svg",{className:"w-16 h-16 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-1.35 5M7 13l1.35-5M7 13L5.65 18M7 13h10m0 0l1.35 5M17 13l-1.35 5M9 21h6"})})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-3",children:"Tu carrito est\xe1 vac\xedo"}),s.jsx("p",{className:"text-gray-600 mb-8",children:"\xa1Descubre nuestros deliciosos platillos y agrega tus favoritos!"})]}),s.jsx(p(),{href:"/menu",children:s.jsx(n.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-gradient-to-r from-blue-500 via-secondary-600 to-indigo-600 hover:from-blue-600 hover:via-secondary-700 hover:to-indigo-700 text-white font-bold py-4 px-8 rounded-full shadow-lg transition-all duration-300",children:"Ver Men\xfa"})})]})})})]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(u.default,{}),s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-cyan-50 md:pt-24",children:s.jsx("div",{className:"container mx-auto px-4 py-8",children:(0,s.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-4xl mx-auto",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Tu Carrito"}),s.jsx(n.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:i,className:"text-red-500 hover:text-red-700 font-medium transition-colors",children:"Vaciar carrito"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-2 space-y-4",children:e.items.map(e=>s.jsx(n.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-white rounded-xl shadow-sm p-6 hover:shadow-md transition-shadow",children:(0,s.jsxs)("div",{className:"flex gap-4",children:[s.jsx("div",{className:"relative w-20 h-20 rounded-lg overflow-hidden bg-gray-100 flex-shrink-0",children:s.jsx(o(),{src:e.menuItem.imagen_url||"/images/menu/placeholder.jpg",alt:e.menuItem.nombre,fill:!0,className:"object-cover"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[s.jsx("h3",{className:"font-semibold text-gray-800",children:e.menuItem.nombre}),s.jsx(n.E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>t(e.id),className:"text-red-500 hover:text-red-700 p-1",children:s.jsx(c.Z,{className:"w-5 h-5"})})]}),e.options&&(0,s.jsxs)("div",{className:"text-sm text-gray-600 mb-2 space-y-1",children:[e.options.complementos.length>0&&(0,s.jsxs)("p",{children:["Complementos: ",e.options.complementos.map(e=>e.name).join(", ")]}),e.options.soya&&(0,s.jsxs)("p",{children:["Salsa de soya: ",e.options.soya.name]}),e.options.cubiertos&&(0,s.jsxs)("p",{children:["Cubiertos: ",e.options.cubiertos.name]}),e.options.comentarios&&(0,s.jsxs)("p",{children:["Comentarios: ",e.options.comentarios]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("span",{className:"font-bold text-secondary-600",children:["$",e.subtotal.toFixed(2)]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[s.jsx(n.E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>a(e.id,e.quantity-1),className:"w-8 h-8 rounded-full bg-gray-100 hover:bg-gray-200 flex items-center justify-center transition-colors",children:s.jsx(d.Z,{className:"w-4 h-4"})}),s.jsx("span",{className:"font-semibold text-gray-800 min-w-[2rem] text-center",children:e.quantity}),s.jsx(n.E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>a(e.id,e.quantity+1),className:"w-8 h-8 rounded-full bg-gray-100 hover:bg-gray-200 flex items-center justify-center transition-colors",children:s.jsx(m.Z,{className:"w-4 h-4"})})]})]})]})]})},e.id))}),s.jsx("div",{className:"lg:col-span-1",children:(0,s.jsxs)(n.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white rounded-xl shadow-sm p-6 sticky top-24",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-6",children:"Resumen del Pedido"}),(0,s.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Subtotal"}),(0,s.jsxs)("span",{className:"font-semibold",children:["$",e.total.toFixed(2)]})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Env\xedo"}),s.jsx("span",{className:`font-semibold ${v>0?"text-orange-600":"text-green-600"}`,children:v>0?`$${v.toFixed(2)}`:"Gratis"})]}),s.jsx("div",{className:"border-t pt-3",children:(0,s.jsxs)("div",{className:"flex justify-between text-lg font-bold",children:[s.jsx("span",{children:"Total"}),(0,s.jsxs)("span",{className:"text-secondary-600",children:["$",(e.total+v).toFixed(2)]})]})})]}),s.jsx(n.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{g(!0)},className:"w-full bg-gradient-to-r from-blue-500 via-secondary-600 to-indigo-600 hover:from-blue-600 hover:via-secondary-700 hover:to-indigo-700 text-white font-bold py-4 px-6 rounded-full shadow-lg transition-all duration-300 mb-4",children:"Finalizar Pedido"}),s.jsx(p(),{href:"/menu",children:s.jsx(n.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-800 font-semibold py-3 px-6 rounded-full transition-all duration-300",children:"Continuar Comprando"})}),(0,s.jsxs)("div",{className:"mt-6 pt-6 border-t",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-2",children:[s.jsx(x,{className:"w-4 h-4 text-red-500"}),s.jsx("span",{children:"Preparado con amor sinaloense"})]}),s.jsx("div",{className:"text-xs text-gray-500",children:"Los precios incluyen IVA. Tiempo estimado de entrega: 30-45 min."})]})]})})]})]})})}),s.jsx(CheckoutModal,{isOpen:h,onClose:()=>g(!1),onComplete:e=>{f(e.delivery.type),handleCheckoutComplete(e)}})]})}},95850:(e,a,t)=>{"use strict";t.r(a),t.d(a,{$$typeof:()=>n,__esModule:()=>l,default:()=>o});var s=t(95153);let r=(0,s.createProxy)(String.raw`/var/www/mazuhi-web/src/app/cart/page.tsx`),{__esModule:l,$$typeof:n}=r,i=r.default,o=i}};var a=require("../../webpack-runtime.js");a.C(e);var __webpack_exec__=e=>a(a.s=e),t=a.X(0,[7553,8336,3141],()=>__webpack_exec__(19435));module.exports=t})();