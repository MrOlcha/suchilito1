exports.id=485,exports.ids=[485],exports.modules={44126:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,13724,23)),Promise.resolve().then(a.t.bind(a,35365,23)),Promise.resolve().then(a.t.bind(a,44900,23)),Promise.resolve().then(a.t.bind(a,44714,23)),Promise.resolve().then(a.t.bind(a,45392,23)),Promise.resolve().then(a.t.bind(a,8898,23))},65309:(e,t,a)=>{Promise.resolve().then(a.bind(a,93091)),Promise.resolve().then(a.bind(a,57457)),Promise.resolve().then(a.bind(a,48767)),Promise.resolve().then(a.bind(a,78157)),Promise.resolve().then(a.bind(a,78133))},93091:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var s=a(30784),r=a(57114),i=a(11440),n=a.n(i),o=a(52451),l=a.n(o),c=a(94571),d=a(69719),m=a(9329),x=a(41751),u=a(11862),h=a(52974),g=a(5535),p=a(45817),f=a(92268),b=a(78133);let __WEBPACK_DEFAULT_EXPORT__=()=>{let e=(0,r.usePathname)(),{cart:t}=(0,b.useCart)();if("/rest"===e)return null;let a=[{name:"INICIO",href:"/",icon:d.Z,iconSolid:h.Z},{name:"MEN\xda",href:"/menu",icon:"custom-menu",iconSolid:"custom-menu"},{name:"CARRITO",href:"/cart",icon:m.Z,iconSolid:g.Z,isCenter:!0},{name:"UBICACI\xd3N",href:"/ubicacion",icon:x.Z,iconSolid:p.Z},{name:"HISTORIA",href:"/historia",icon:u.Z,iconSolid:f.Z}],i=t.items.reduce((e,t)=>e+t.quantity,0);return s.jsx(c.E.nav,{initial:{y:100},animate:{y:0},transition:{duration:.3,ease:"easeInOut"},className:"fixed bottom-0 left-0 right-0 bg-white/95 backdrop-blur-lg border-t border-gray-200 shadow-lg z-50 md:hidden",children:s.jsx("div",{className:"flex items-center justify-around py-2 px-1",children:a.map(t=>{let a=e===t.href;return s.jsx(n(),{href:t.href,className:`relative flex flex-col items-center justify-center p-2 rounded-lg transition-all duration-200 ${t.isCenter?"mx-2":""}`,children:t.isCenter?(0,s.jsxs)(c.E.div,{whileTap:{scale:.9},className:`relative flex items-center justify-center w-14 h-14 rounded-full shadow-lg transition-all duration-200 ${a?"bg-gradient-to-r from-blue-500 via-secondary-600 to-indigo-600 text-white":"bg-gradient-to-r from-blue-400 via-secondary-500 to-indigo-500 text-white"}`,children:[s.jsx(m.Z,{className:"w-7 h-7"}),i>0&&s.jsx(c.E.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold rounded-full w-6 h-6 flex items-center justify-center shadow-lg",children:i>99?"99+":i})]}):s.jsx(c.E.div,{whileTap:{scale:.95},className:"flex flex-col items-center",children:s.jsx("div",{className:`p-3 rounded-lg transition-all duration-200 ${a?"bg-blue-50 text-secondary-600":"text-gray-500"}`,children:(()=>{if("custom-menu"===t.icon)return s.jsx("div",{className:"relative w-6 h-6",children:s.jsx(l(),{src:"/images/menu.svg",alt:"Men\xfa",width:24,height:24,className:`w-6 h-6 transition-all duration-200 ${a?"brightness-0 saturate-100":"brightness-0 saturate-100 opacity-60"}`,style:{filter:a?"invert(29%) sepia(96%) saturate(1582%) hue-rotate(208deg) brightness(97%) contrast(93%)":"invert(55%) sepia(8%) saturate(9%) hue-rotate(316deg) brightness(95%) contrast(86%)"}})});{let e=a?t.iconSolid:t.icon;return s.jsx(e,{className:"w-6 h-6"})}})()})})},t.name)})})})}},57457:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>CartFloatingButton});var s=a(30784);a(9885);var r=a(78133),i=a(66434),n=a(30569),o=a(94571);function CartFloatingButton(){let{cart:e,toggleCart:t}=(0,r.useCart)();return s.jsx(n.M,{children:e.itemCount>0&&(0,s.jsxs)(o.E.button,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"fixed bottom-6 right-6 bg-red-600 hover:bg-red-700 text-white p-4 rounded-full shadow-2xl z-30 flex items-center gap-2 transition-colors md:flex hidden",children:[s.jsx(i.Z,{className:"w-6 h-6"}),s.jsx(o.E.div,{initial:{scale:0},animate:{scale:1},className:"bg-white text-red-600 rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold",children:e.itemCount}),(0,s.jsxs)("span",{className:"font-semibold",children:["$",e.total.toFixed(2)]})]})})}},48767:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>CartSidebar});var s=a(30784),r=a(9885),i=a(78133),n=a(78157),o=a(57048),l=a(66434),c=a(30569),d=a(94571),m=a(30781),x=a(56143),u=a(49125),h=a(41751);function LocationPickerModal({isOpen:e,onClose:t,onSelectLocation:a}){let i=(0,r.useRef)(null),n=(0,r.useRef)(null),l=(0,r.useRef)(null),[c,d]=(0,r.useState)(null),[m,g]=(0,r.useState)(!0),[p,f]=(0,r.useState)(null);(0,r.useEffect)(()=>{if(!e||!i.current){g(!0);return}let t=setTimeout(()=>{initializeMap()},100);return()=>clearTimeout(t)},[e]);let initializeMap=async()=>{try{if(!window.google||!window.google.maps){console.log("Esperando a Google Maps..."),setTimeout(initializeMap,500);return}if(!i.current){console.error("mapRef.current no disponible"),g(!1);return}console.log("\uD83D\uDDFA️ Inicializando Google Maps...");let e={lat:24.2769,lng:-110.2708},t=new window.google.maps.Map(i.current,{zoom:15,center:e,streetViewControl:!1,fullscreenControl:!0,mapTypeControl:!0,zoomControl:!0});n.current=t;let a=new window.google.maps.Marker({position:e,map:t,draggable:!0,title:"Tu ubicaci\xf3n"});l.current=a;let s=new window.google.maps.Geocoder,updateAddress=async(e,t)=>{try{let a=await s.geocode({location:{lat:e,lng:t}});if(a.results&&a.results[0]){let s=a.results[0].formatted_address;d({lat:e,lng:t,address:s})}}catch(e){console.error("Error geocoding:",e)}};a.addListener("dragend",()=>{let e=a.getPosition();e&&updateAddress(e.lat(),e.lng())}),t.addListener("click",e=>{let t=e.latLng.lat(),s=e.latLng.lng();a.setPosition({lat:t,lng:s}),updateAddress(t,s)}),await updateAddress(e.lat,e.lng),g(!1),f(null)}catch(e){console.error("Error inicializando mapa:",e),f("Error al cargar el mapa. Por favor, intenta nuevamente."),g(!1)}};return s.jsx(x.u,{show:e,children:(0,s.jsxs)(u.Vq,{onClose:t,className:"relative z-50",children:[s.jsx(x.u.Child,{enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:s.jsx("div",{className:"fixed inset-0 bg-black/50"})}),s.jsx("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:s.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:s.jsx(x.u.Child,{enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,s.jsxs)(u.EM,{className:"w-full max-w-2xl transform overflow-hidden rounded-2xl bg-white shadow-2xl transition-all",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between bg-gradient-to-r from-orange-500 to-red-500 px-6 py-4 text-white",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx(h.Z,{className:"w-6 h-6"}),s.jsx("h2",{className:"text-lg font-bold",children:"Selecciona tu ubicaci\xf3n"})]}),s.jsx("button",{onClick:t,className:"p-1 hover:bg-white/20 rounded-full transition-colors",children:s.jsx(o.Z,{className:"w-6 h-6"})})]}),s.jsx("div",{className:"space-y-4 p-6",children:m?s.jsx("div",{className:"flex items-center justify-center h-96 bg-gray-100 rounded-lg",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 rounded-full border-4 border-orange-200 border-t-orange-500 animate-spin mx-auto mb-2"}),s.jsx("p",{className:"text-gray-600",children:"Cargando mapa..."})]})}):(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{ref:i,className:"w-full h-96 rounded-lg border border-gray-300 shadow-sm"}),c&&(0,s.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Ubicaci\xf3n seleccionada:"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:c.address}),(0,s.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:["Lat: ",c.lat.toFixed(4),", Lng: ",c.lng.toFixed(4)]})]}),s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,s.jsxs)("p",{className:"text-sm text-yellow-800",children:["\uD83D\uDCA1 ",s.jsx("strong",{children:"Tip:"})," Haz clic en el mapa o arrastra el marcador para seleccionar tu ubicaci\xf3n"]})})]})}),(0,s.jsxs)("div",{className:"flex gap-3 border-t border-gray-200 px-6 py-4 bg-gray-50",children:[s.jsx("button",{onClick:t,className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-100 transition-colors",children:"Cancelar"}),s.jsx("button",{onClick:()=>{c&&(a(c.address,c.lat,c.lng),t())},disabled:!c,className:"flex-1 px-4 py-3 bg-green-600 text-white font-medium rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Confirmar Ubicaci\xf3n"})]})]})})})})]})})}var g=a(52451),p=a.n(g),f=a(21790),b=a(31511),y=a(38887),j=a(90880);function SuccessOrderModal({isOpen:e,onClose:t,checkoutData:a,orderNumber:r,getEstimatedTime:i}){return s.jsx(c.M,{children:e&&s.jsx(d.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[60] flex items-center justify-center p-4",onClick:t,children:s.jsx(d.E.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},onClick:e=>e.stopPropagation(),className:"bg-white rounded-3xl shadow-2xl max-w-4xl w-full overflow-hidden",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5",children:[s.jsx("div",{className:"md:col-span-2 bg-white p-2 flex items-center justify-center relative overflow-hidden",children:s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.jsx(p(),{src:"/images/cocina.png",alt:"Chef",width:600,height:600,className:"object-contain w-full h-auto max-h-full scale-110",priority:!0})})}),(0,s.jsxs)("div",{className:"md:col-span-3 p-8",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"\xa1Tu pedido ha sido realizado exitosamente!"}),(0,s.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4 bg-gradient-to-r from-[#a2cbec]/30 to-[#3d89c5]/20 rounded-xl p-4 border border-[#3d89c5]/30",children:[s.jsx("div",{className:"w-12 h-12 bg-[#3d89c5] rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx(f.Z,{className:"w-6 h-6 text-white"})}),(0,s.jsxs)("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Tiempo estimado"}),s.jsx("p",{className:"text-xl font-bold text-gray-900",children:i()})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4 bg-gradient-to-r from-[#a2cbec]/30 to-[#3d89c5]/20 rounded-xl p-4 border border-[#3d89c5]/30",children:[s.jsx("div",{className:"w-12 h-12 bg-[#3d89c5] rounded-full flex items-center justify-center flex-shrink-0",children:"pickup"===a.delivery.type?s.jsx(b.Z,{className:"w-6 h-6 text-white"}):s.jsx(y.Z,{className:"w-6 h-6 text-white"})}),(0,s.jsxs)("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Tipo de entrega"}),s.jsx("p",{className:"text-xl font-bold text-gray-900",children:"pickup"===a.delivery.type?"Recoger en sucursal":"Delivery a domicilio"})]})]}),"delivery"===a.delivery.type&&a.delivery.address&&(0,s.jsxs)("div",{className:"flex items-start gap-4 bg-gradient-to-r from-[#a2cbec]/30 to-[#3d89c5]/20 rounded-xl p-4 border border-[#3d89c5]/30",children:[s.jsx("div",{className:"w-12 h-12 bg-[#3d89c5] rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx(h.Z,{className:"w-6 h-6 text-white"})}),(0,s.jsxs)("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-gray-600 font-medium mb-1",children:"Direcci\xf3n de entrega"}),s.jsx("p",{className:"text-lg text-gray-900",children:a.delivery.address})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4 bg-gradient-to-r from-[#a2cbec]/30 to-[#3d89c5]/20 rounded-xl p-4 border border-[#3d89c5]/30",children:[s.jsx("div",{className:"w-12 h-12 bg-[#3d89c5] rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx(j.Z,{className:"w-6 h-6 text-white"})}),(0,s.jsxs)("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"N\xfamero de pedido"}),s.jsx("p",{className:"text-xl font-bold text-gray-900",children:r})]})]})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 mb-6",children:(0,s.jsxs)("p",{className:"text-center text-sm text-blue-800",children:[s.jsx("span",{className:"font-semibold",children:"\uD83D\uDCF1 Hemos enviado la confirmaci\xf3n a tu WhatsApp."}),s.jsx("br",{}),"Nos pondremos en contacto contigo pronto."]})}),s.jsx("button",{onClick:t,className:"w-full bg-gradient-to-r from-[#3d89c5] to-[#2563eb] hover:from-[#2563eb] hover:to-[#1d4ed8] text-white font-semibold py-4 rounded-xl transition-all shadow-lg hover:shadow-xl",children:"Continuar Navegando"})]})]})})})})}var v=a(13524),N=a(40990),w=a(34635);let C={hidden:{opacity:0,x:20},visible:{opacity:1,x:0},exit:{opacity:0,x:-20}};function CartItems({items:e,onUpdateQuantity:t,onRemoveItem:a,onClearCart:r}){return s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:0===e.length?(0,s.jsxs)("div",{className:"text-center py-12",children:[s.jsx(l.Z,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Tu carrito est\xe1 vac\xedo"}),s.jsx("p",{className:"text-gray-500",children:"Agrega algunos productos para comenzar"})]}):(0,s.jsxs)("div",{className:"space-y-4",children:[s.jsx(c.M,{children:e.map((e,r)=>s.jsx(d.E.div,{variants:C,initial:"hidden",animate:"visible",exit:"exit",transition:{delay:.1*r},className:"bg-gray-50 rounded-xl p-4 border border-gray-200",children:(0,s.jsxs)("div",{className:"flex gap-3",children:[s.jsx("div",{className:"relative w-16 h-16 rounded-lg overflow-hidden bg-gray-200 flex-shrink-0",children:e.menuItem.imagen_url?s.jsx(p(),{src:e.menuItem.imagen_url,alt:e.menuItem.nombre,fill:!0,className:"object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-xl",children:"\uD83C\uDF71"})}),(0,s.jsxs)("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold text-gray-900 text-sm",children:e.menuItem.nombre}),(0,s.jsxs)("p",{className:"text-xs text-gray-600 mb-2",children:["$",e.menuItem.precio," c/u"]}),(0,s.jsxs)("div",{className:"text-xs text-gray-500 space-y-1",children:[e.options.complementos.length>0&&(0,s.jsxs)("div",{children:[s.jsx("span",{className:"font-medium",children:"Complementos: "}),e.options.complementos.map(e=>e.name).join(", ")]}),e.options.soya&&(0,s.jsxs)("div",{children:[s.jsx("span",{className:"font-medium",children:"Soya: "}),e.options.soya.name]}),e.options.cubiertos&&(0,s.jsxs)("div",{children:[s.jsx("span",{className:"font-medium",children:"Cubiertos: "}),e.options.cubiertos.name]}),e.options.comentarios&&(0,s.jsxs)("div",{children:[s.jsx("span",{className:"font-medium",children:"Comentarios: "}),e.options.comentarios]}),e.options.special&&(0,s.jsxs)("div",{children:[s.jsx("span",{className:"font-medium",children:"Especial: "}),e.options.special]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between mt-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>t(e.id,e.quantity-1),className:"w-6 h-6 rounded-full bg-gray-200 hover:bg-gray-300 flex items-center justify-center transition-colors",children:s.jsx(v.Z,{className:"w-3 h-3"})}),s.jsx("span",{className:"w-8 text-center text-sm font-medium",children:e.quantity}),s.jsx("button",{onClick:()=>t(e.id,e.quantity+1),className:"w-6 h-6 rounded-full bg-gray-200 hover:bg-gray-300 flex items-center justify-center transition-colors",children:s.jsx(N.Z,{className:"w-3 h-3"})})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("span",{className:"font-bold text-gray-900",children:["$",e.subtotal.toFixed(2)]}),s.jsx("button",{onClick:()=>a(e.id),className:"p-1 text-red-500 hover:bg-red-50 rounded transition-colors",children:s.jsx(w.Z,{className:"w-4 h-4"})})]})]})]})]})},e.id))}),e.length>0&&s.jsx("button",{onClick:r,className:"w-full text-red-600 hover:text-red-700 text-sm font-medium py-2 transition-colors",children:"Vaciar carrito"})]})})}function CartViewFooter({total:e,onCheckout:t,onContinueShopping:a}){return s.jsx("div",{className:"border-t border-gray-200 p-6 bg-white",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"Total:"}),(0,s.jsxs)("span",{className:"text-2xl font-bold text-green-600",children:["$",e.toFixed(2)]})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[s.jsx(d.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:t,className:"w-full bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white font-semibold py-4 rounded-xl transition-all transform shadow-lg hover:shadow-xl",children:"\uD83D\uDE9A Finalizar Pedido"}),s.jsx(d.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:a,className:"w-full bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium py-3 rounded-xl transition-colors",children:"Continuar comprando"})]})]})})}var k=a(64918);function CheckoutHeader({steps:e,currentStep:t,onClose:a}){return(0,s.jsxs)("div",{className:"bg-gradient-to-r from-orange-500 to-red-500 p-6 text-white",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Finalizar Pedido"}),s.jsx("p",{className:"text-orange-100 mt-1",children:e[t].title})]}),s.jsx("button",{onClick:a,className:"text-white/80 hover:text-white transition-colors",children:s.jsx(o.Z,{className:"w-6 h-6"})})]}),s.jsx("div",{className:"flex items-center justify-between",children:e.map((a,r)=>(0,s.jsxs)("div",{className:"flex items-center",children:[s.jsx("div",{className:`
              flex items-center justify-center w-8 h-8 rounded-full text-sm font-medium
              ${r<=t?"bg-white text-orange-500":"bg-orange-400 text-white"}
            `,children:r<t?s.jsx(k.Z,{className:"w-4 h-4"}):r+1}),r<e.length-1&&s.jsx("div",{className:`
                w-12 h-0.5 mx-2
                ${r<t?"bg-white":"bg-orange-400"}
              `})]},a.id))})]})}var S=a(78750);function CheckoutContact({name:e,phone:t,onNameChange:a,onPhoneChange:r,errors:i}){return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[s.jsx(S.Z,{className:"w-16 h-16 text-orange-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Informaci\xf3n de Contacto"}),s.jsx("p",{className:"text-gray-600",children:"Necesitamos tus datos para contactarte sobre tu pedido"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre Completo *"}),s.jsx("input",{type:"text",value:e,onChange:e=>a(e.target.value),className:`w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${i?.contact?.name?"border-red-500":"border-gray-300"}`,placeholder:"Ej: Juan P\xe9rez"}),i?.contact?.name&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:i.contact.name})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"N\xfamero de Tel\xe9fono *"}),s.jsx("input",{type:"tel",value:(e=>{let t=e.replace(/\D/g,"");return t.length<=3?t:t.length<=6?`${t.slice(0,3)}-${t.slice(3)}`:`${t.slice(0,3)}-${t.slice(3,6)}-${t.slice(6,10)}`})(t),onChange:e=>r(e.target.value.replace(/\D/g,"")),className:`w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${i?.contact?.phone?"border-red-500":"border-gray-300"}`,placeholder:"55-1234-5678",maxLength:12}),i?.contact?.phone&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:i.contact.phone})]})]})}function CartSummary({items:e,total:t,itemCount:a}){return(0,s.jsxs)("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 rounded-xl p-4 border-2 border-orange-200",children:[(0,s.jsxs)("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[s.jsx(l.Z,{className:"w-5 h-5 text-orange-600"}),"Resumen de tu Pedido"]}),s.jsx("div",{className:"space-y-2 mb-3 max-h-64 overflow-y-auto",children:e.map(e=>(0,s.jsxs)("div",{className:"flex justify-between items-start bg-white rounded-lg p-2",children:[(0,s.jsxs)("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.menuItem.nombre}),(e.options.complementos.length>0||e.options.soya||e.options.cubiertos||e.options.comentarios)&&s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:[e.options.complementos.map(e=>e.name).join(", "),e.options.soya?.name,e.options.cubiertos?.name,e.options.comentarios].filter(Boolean).join(" • ")})]}),(0,s.jsxs)("div",{className:"text-right ml-2",children:[(0,s.jsxs)("div",{className:"bg-orange-100 text-orange-700 font-bold px-2 py-1 rounded-lg text-sm min-w-[40px]",children:["x",e.quantity]}),(0,s.jsxs)("p",{className:"text-xs text-gray-600 mt-1",children:["$",e.subtotal.toFixed(2)]})]})]},e.id))}),(0,s.jsxs)("div",{className:"border-t border-orange-200 pt-3 space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsxs)("span",{className:"text-gray-700",children:["Subtotal (",a," items):"]}),(0,s.jsxs)("span",{className:"font-semibold text-gray-900",children:["$",t.toFixed(2)]})]}),(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-700",children:"Total art\xedculos:"}),s.jsx("span",{className:"font-bold text-lg text-orange-600",children:a})]})]})]})}function CheckoutDelivery({deliveryType:e,address:t,items:a,total:r,itemCount:i,onDeliveryTypeChange:n,onAddressChange:o,onLocationPickerOpen:l,errors:c}){return(0,s.jsxs)("div",{className:"space-y-4",children:[s.jsx(CartSummary,{items:a,total:r,itemCount:i}),(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"\xbfC\xf3mo prefieres recibir tu pedido?"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Elige entre recoger en sucursal o delivery a domicilio"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,s.jsxs)("button",{onClick:()=>n("pickup"),className:`p-4 border-2 rounded-xl transition-all text-center hover:shadow-md ${"pickup"===e?"border-orange-500 bg-orange-50 shadow-md":"border-gray-200 hover:border-gray-300"}`,children:[s.jsx(b.Z,{className:"w-8 h-8 text-orange-500 mx-auto mb-3"}),s.jsx("h4",{className:"font-bold text-gray-900 text-sm mb-2",children:"Recoger en Sucursal"}),(0,s.jsxs)("div",{className:"flex items-center justify-center text-xs text-orange-600 font-medium",children:[s.jsx(f.Z,{className:"w-4 h-4 mr-1"}),"~30 min"]})]}),(0,s.jsxs)("button",{onClick:()=>n("delivery"),className:`p-4 border-2 rounded-xl transition-all text-center hover:shadow-md ${"delivery"===e?"border-orange-500 bg-orange-50 shadow-md":"border-gray-200 hover:border-gray-300"}`,children:[s.jsx(y.Z,{className:"w-8 h-8 text-orange-500 mx-auto mb-3"}),s.jsx("h4",{className:"font-bold text-gray-900 text-sm mb-2",children:"Delivery a Domicilio"}),(0,s.jsxs)("div",{className:"flex items-center justify-center text-xs text-orange-600 font-medium",children:[s.jsx(f.Z,{className:"w-4 h-4 mr-1"}),"~45 min"]})]})]}),"delivery"===e&&(0,s.jsxs)("div",{className:"mt-6 space-y-3",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Direcci\xf3n de Entrega *"}),s.jsx("button",{onClick:l,className:"w-full px-4 py-3 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-xl hover:from-orange-600 hover:to-orange-700 transition-all font-medium flex items-center justify-center gap-2",children:"\uD83D\uDCCD Seleccionar ubicaci\xf3n en mapa"}),t&&(0,s.jsxs)("div",{className:"p-3 bg-green-50 border border-green-200 rounded-xl",children:[s.jsx("p",{className:"text-sm font-medium text-green-900",children:"✓ Ubicaci\xf3n seleccionada:"}),s.jsx("p",{className:"text-sm text-green-700 mt-1",children:t})]}),s.jsx("textarea",{value:t||"",onChange:e=>o(e.target.value),className:`w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all text-sm ${c?.delivery?.address?"border-red-500":"border-gray-300"}`,placeholder:"O ingresa tu direcci\xf3n manualmente...",rows:2}),c?.delivery?.address&&s.jsx("p",{className:"text-red-500 text-sm",children:c.delivery.address})]})]})}var E=a(82671),T=a(3190),P=a(34087);function CheckoutPayment({method:e,cashAmount:t,exactChange:a,total:r,shippingCost:i,deliveryType:n,onMethodChange:o,onCashAmountChange:l,onExactChangeChange:c,errors:d}){let m=r+i;return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"\xbfC\xf3mo vas a pagar?"}),(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:["El pago se realiza al ","pickup"===n?"recoger":"recibir"," tu pedido"]}),"delivery"===n&&(0,s.jsxs)("div",{className:"mt-4 text-sm text-orange-600 font-semibold bg-orange-50 rounded-xl py-2 px-4 inline-block",children:["Se realizar\xe1 un cobro adicional de $",i.toFixed(2)," por tarifa de env\xedo a domicilio."]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,s.jsxs)("button",{onClick:()=>o("cash"),className:`p-3 border-2 rounded-xl transition-all text-center ${"cash"===e?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-gray-300"}`,children:[s.jsx(E.Z,{className:"w-6 h-6 text-orange-500 mx-auto mb-2"}),s.jsx("h4",{className:"font-semibold text-gray-900 text-sm",children:"Efectivo"})]}),(0,s.jsxs)("button",{onClick:()=>o("card"),className:`p-3 border-2 rounded-xl transition-all text-center ${"card"===e?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-gray-300"}`,children:[s.jsx(T.Z,{className:"w-6 h-6 text-orange-500 mx-auto mb-2"}),s.jsx("h4",{className:"font-semibold text-gray-900 text-sm",children:"Tarjeta"})]})]}),"cash"===e&&(0,s.jsxs)("div",{className:"mt-6",children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["\xbfCon cu\xe1nto vas a pagar? (Total: $",m.toFixed(2),") *"]}),s.jsx("div",{className:"mb-4",children:(0,s.jsxs)("label",{className:"flex items-center p-4 border-2 rounded-xl cursor-pointer transition-all hover:bg-gray-50",children:[s.jsx("input",{type:"checkbox",checked:a||!1,onChange:e=>{c(e.target.checked),e.target.checked&&l(m)},className:"w-5 h-5 text-orange-600 border-gray-300 rounded focus:ring-orange-500 focus:ring-2"}),(0,s.jsxs)("div",{className:"ml-3",children:[s.jsx("span",{className:"font-medium text-gray-900",children:"Pago con cambio exacto"}),(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:["Pagar\xe9 exactamente $",m.toFixed(2)]})]})]})}),!a&&(0,s.jsxs)(s.Fragment,{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"O selecciona con qu\xe9 billete pagar\xe1s:"}),s.jsx("div",{className:"grid grid-cols-3 gap-3",children:P.o.map(e=>(0,s.jsxs)("button",{onClick:()=>{l(e.value),c(!1)},disabled:e.value<m,className:`p-3 border-2 rounded-xl text-center transition-all ${t!==e.value||a?e.value<m?"border-gray-200 text-gray-400 cursor-not-allowed":"border-gray-200 hover:border-gray-300":"border-orange-500 bg-orange-50 text-orange-700"}`,children:[s.jsx("div",{className:"font-semibold",children:e.label}),e.value>=m&&(0,s.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Cambio: $",(e.value-m).toFixed(2)]})]},e.value))})]}),d?.payment?.cashAmount&&s.jsx("p",{className:"text-red-500 text-sm mt-2",children:d.payment.cashAmount})]})]})}function CheckoutReview({checkoutData:e,total:t,shippingCost:a,estimatedTime:r,onNotesChange:i}){return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[s.jsx(k.Z,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Revisa tu Pedido"}),s.jsx("p",{className:"text-gray-600",children:"Confirma que todo est\xe9 correcto antes de finalizar"})]}),(0,s.jsxs)("div",{className:"bg-gray-50 rounded-2xl p-6",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Resumen del Pedido"}),(0,s.jsxs)("div",{className:"mb-4 pb-4 border-b border-gray-200",children:[(0,s.jsxs)("div",{className:"flex items-center mb-2",children:[s.jsx(S.Z,{className:"w-5 h-5 text-gray-500 mr-2"}),s.jsx("span",{className:"font-medium",children:e.contact.name})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[s.jsx(j.Z,{className:"w-5 h-5 text-gray-500 mr-2"}),s.jsx("span",{children:(e=>{let t=e.replace(/\D/g,"");return t.length<=3?t:t.length<=6?`${t.slice(0,3)}-${t.slice(3)}`:`${t.slice(0,3)}-${t.slice(3,6)}-${t.slice(6,10)}`})(e.contact.phone)})]})]}),(0,s.jsxs)("div",{className:"mb-4 pb-4 border-b border-gray-200",children:[(0,s.jsxs)("div",{className:"flex items-center mb-2",children:["pickup"===e.delivery.type?s.jsx(b.Z,{className:"w-5 h-5 text-gray-500 mr-2"}):s.jsx(y.Z,{className:"w-5 h-5 text-gray-500 mr-2"}),s.jsx("span",{className:"font-medium",children:"pickup"===e.delivery.type?"Recoger en Sucursal":"Delivery a Domicilio"})]}),e.delivery.address&&(0,s.jsxs)("div",{className:"flex items-start",children:[s.jsx(h.Z,{className:"w-5 h-5 text-gray-500 mr-2 mt-0.5"}),s.jsx("span",{className:"text-sm text-gray-600",children:e.delivery.address})]}),(0,s.jsxs)("div",{className:"flex items-center mt-2",children:[s.jsx(f.Z,{className:"w-5 h-5 text-gray-500 mr-2"}),(0,s.jsxs)("span",{className:"text-sm text-gray-600",children:["Tiempo estimado: ",r]})]})]}),(0,s.jsxs)("div",{className:"mb-4 pb-4 border-b border-gray-200",children:[(0,s.jsxs)("div",{className:"flex items-center mb-2",children:["cash"===e.payment.method?s.jsx(E.Z,{className:"w-5 h-5 text-gray-500 mr-2"}):s.jsx(T.Z,{className:"w-5 h-5 text-gray-500 mr-2"}),s.jsx("span",{className:"font-medium",children:"cash"===e.payment.method?"Efectivo":"Tarjeta"})]}),"cash"===e.payment.method&&e.payment.cashAmount&&s.jsx("div",{className:"text-sm text-gray-600",children:e.payment.exactChange?(0,s.jsxs)("span",{className:"text-green-600 font-medium",children:["✓ Pago exacto: $",e.payment.cashAmount.toFixed(2)]}):(0,s.jsxs)(s.Fragment,{children:["Pagas con: $",e.payment.cashAmount.toFixed(2),s.jsx("br",{}),"Tu cambio: $",("cash"===e.payment.method&&e.payment.cashAmount?e.payment.cashAmount-(t+a):0).toFixed(2)]})})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center text-lg font-semibold",children:[s.jsx("span",{children:"Subtotal:"}),(0,s.jsxs)("span",{children:["$",t.toFixed(2)]})]}),a>0&&(0,s.jsxs)("div",{className:"flex justify-between items-center text-sm text-gray-600 mt-2",children:[s.jsx("span",{children:"Env\xedo a domicilio:"}),(0,s.jsxs)("span",{children:["$",a.toFixed(2)]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center text-xl font-bold text-orange-600 mt-3 pt-3 border-t border-gray-200",children:[s.jsx("span",{children:"Total a Pagar:"}),(0,s.jsxs)("span",{children:["$",(t+a).toFixed(2)]})]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notas Adicionales (Opcional)"}),s.jsx("textarea",{value:e.notes||"",onChange:e=>i(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all",placeholder:"Alguna instrucci\xf3n especial para tu pedido...",rows:3})]})]})}var A=a(9317),D=a(7537);function CheckoutNavigation({steps:e,currentStep:t,isSubmitting:a,onPrevStep:r,onNextStep:i,onComplete:n}){return(0,s.jsxs)("div",{className:"flex justify-between items-center p-6 border-t border-gray-200",children:[(0,s.jsxs)("button",{onClick:r,disabled:0===t,className:"flex items-center px-6 py-3 text-gray-600 hover:text-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[s.jsx(A.Z,{className:"w-5 h-5 mr-1"}),"Anterior"]}),t<e.length-1?(0,s.jsxs)("button",{onClick:i,className:"flex items-center px-8 py-3 bg-orange-600 text-white rounded-xl hover:bg-orange-700 transition-all transform hover:scale-105",children:["Continuar",s.jsx(D.Z,{className:"w-5 h-5 ml-1"})]}):s.jsx("button",{onClick:n,disabled:a,className:"flex items-center px-8 py-3 bg-green-600 text-white rounded-xl hover:bg-green-700 disabled:opacity-50 transition-all transform hover:scale-105",children:a?(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{className:"animate-spin w-5 h-5 border-2 border-white border-t-transparent rounded-full mr-2"}),"Procesando..."]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(k.Z,{className:"w-5 h-5 mr-1"}),"Confirmar Pedido"]})})]})}function CartSidebar(){let{cart:e,removeFromCart:t,updateQuantity:a,clearCart:x,toggleCart:u}=(0,i.useCart)(),{user:h,isLoading:g}=(0,n.useAuth)(),[p,f]=(0,r.useState)("cart"),[b,y]=(0,r.useState)(0),[j,v]=(0,r.useState)({contact:{name:"",phone:""},delivery:{type:"pickup"},payment:{method:"cash"},notes:""}),[N,w]=(0,r.useState)({}),[C,k]=(0,r.useState)(!1),[S,E]=(0,r.useState)(""),[T,P]=(0,r.useState)(!1),A="delivery"===j.delivery.type?30:0,D=[{id:"contact",title:"Informaci\xf3n de Contacto",description:"Tu nombre y tel\xe9fono",isCompleted:b>0,isActive:0===b},{id:"delivery",title:"M\xe9todo de Entrega",description:"Recojo o delivery",isCompleted:b>1,isActive:1===b},{id:"payment",title:"M\xe9todo de Pago",description:"Efectivo o tarjeta",isCompleted:b>2,isActive:2===b},{id:"review",title:"Revisar Pedido",description:"Confirma tu orden",isCompleted:b>3,isActive:3===b}];(0,r.useEffect)(()=>{e.isOpen||setTimeout(()=>{f("cart"),y(0),v({contact:{name:"",phone:""},delivery:{type:"pickup"},payment:{method:"cash"},notes:""}),w({}),k(!1)},300)},[e.isOpen]),(0,r.useEffect)(()=>{"checkout"!==p||g||(h?(console.log("✅ CartSidebar: Usuario detectado - Saltando paso de contacto"),y(1),v(e=>({...e,contact:{name:`${h.telefono}`,phone:h.telefono,email:h.correo}}))):(console.log("❌ CartSidebar: Sin usuario - Mostrar paso de contacto"),y(0)))},[p,h,g]);let updateCheckoutData=e=>{v(t=>({...t,...e})),w({})},validateStep=e=>{let t={};switch(e){case 0:h||(j.contact.name.trim()||(t.contact={...t.contact,name:"El nombre es requerido"}),j.contact.phone.trim()?/^\d{10}$/.test(j.contact.phone.replace(/\D/g,""))||(t.contact={...t.contact,phone:"Ingresa un tel\xe9fono v\xe1lido (10 d\xedgitos)"}):t.contact={...t.contact,phone:"El tel\xe9fono es requerido"});break;case 1:"delivery"!==j.delivery.type||j.delivery.address?.trim()||(t.delivery={address:"La direcci\xf3n es requerida para delivery"});break;case 2:"cash"!==j.payment.method||j.payment.exactChange||j.payment.cashAmount||(t.payment={cashAmount:"Selecciona la denominaci\xf3n con la que pagar\xe1s o marca pago exacto"})}return w(t),0===Object.keys(t).length},handleComplete=async()=>{if(validateStep(b)){k(!0);try{let t=(0,m.m1)(),a=await (0,m.KU)(j,e,t);a.success?(E(t),u(),setTimeout(()=>{f("success"),x()},500)):alert(`Error: ${a.message}`),k(!1)}catch(e){console.error("Error al procesar el pedido:",e),alert("Error al procesar el pedido. Por favor intenta nuevamente."),k(!1)}}},getEstimatedTime=()=>"pickup"===j.delivery.type?"30 min":"45 min";return(0,s.jsxs)(s.Fragment,{children:[s.jsx(c.M,{children:e.isOpen&&(0,s.jsxs)(s.Fragment,{children:[s.jsx(d.E.div,{variants:{closed:{opacity:0},open:{opacity:1}},initial:"closed",animate:"open",exit:"closed",transition:{duration:.3},className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:u}),(0,s.jsxs)(d.E.div,{variants:{closed:{x:"100%"},open:{x:0}},initial:"closed",animate:"open",exit:"closed",transition:{type:"spring",damping:25,stiffness:200},className:"fixed right-0 top-0 h-full w-full max-w-md bg-white shadow-2xl z-50 flex flex-col",children:["cart"===p&&(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{className:"border-b border-gray-200 p-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[s.jsx(l.Z,{className:"w-6 h-6 text-red-600"}),(0,s.jsxs)("h2",{className:"text-xl font-bold text-gray-900",children:["Mi Carrito (",e.itemCount,")"]})]}),s.jsx("button",{onClick:u,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:s.jsx(o.Z,{className:"w-6 h-6"})})]})}),s.jsx(CartItems,{items:e.items,onUpdateQuantity:a,onRemoveItem:t,onClearCart:x}),e.items.length>0&&s.jsx(CartViewFooter,{total:e.total,onCheckout:()=>{f("checkout")},onContinueShopping:u})]}),"checkout"===p&&(0,s.jsxs)(s.Fragment,{children:[s.jsx(CheckoutHeader,{steps:D,currentStep:b,onClose:()=>{f("cart"),y(0)}}),(0,s.jsxs)("div",{className:"flex-1 overflow-y-auto p-6",children:[0===b&&!h&&s.jsx(CheckoutContact,{name:j.contact.name,phone:j.contact.phone,onNameChange:e=>updateCheckoutData({contact:{...j.contact,name:e}}),onPhoneChange:e=>updateCheckoutData({contact:{...j.contact,phone:e}}),errors:N}),1===b&&s.jsx(CheckoutDelivery,{deliveryType:j.delivery.type,address:j.delivery.address,items:e.items,total:e.total,itemCount:e.itemCount,onDeliveryTypeChange:e=>updateCheckoutData({delivery:{type:e,address:j.delivery.address}}),onAddressChange:e=>updateCheckoutData({delivery:{...j.delivery,address:e}}),onLocationPickerOpen:()=>P(!0),errors:N}),2===b&&s.jsx(CheckoutPayment,{method:j.payment.method,cashAmount:j.payment.cashAmount,exactChange:j.payment.exactChange,total:e.total,shippingCost:A,deliveryType:j.delivery.type,onMethodChange:e=>updateCheckoutData({payment:{...j.payment,method:e}}),onCashAmountChange:e=>updateCheckoutData({payment:{...j.payment,cashAmount:e}}),onExactChangeChange:e=>updateCheckoutData({payment:{...j.payment,exactChange:e}}),errors:N}),3===b&&s.jsx(CheckoutReview,{checkoutData:j,total:e.total,shippingCost:A,estimatedTime:getEstimatedTime(),onNotesChange:e=>updateCheckoutData({notes:e})})]}),s.jsx(CheckoutNavigation,{steps:D,currentStep:b,isSubmitting:C,onPrevStep:()=>{y(e=>Math.max(e-1,0))},onNextStep:()=>{validateStep(b)&&y(e=>Math.min(e+1,D.length-1))},onComplete:handleComplete})]})]})]})}),s.jsx(SuccessOrderModal,{isOpen:"success"===p&&!e.isOpen,onClose:()=>{f("cart"),y(0)},checkoutData:j,orderNumber:S,getEstimatedTime:getEstimatedTime}),s.jsx(LocationPickerModal,{isOpen:T,onClose:()=>P(!1),onSelectLocation:(e,t,a)=>{updateCheckoutData({delivery:{...j.delivery,address:e,coordinates:{lat:t,lng:a}}}),console.log("✅ Ubicaci\xf3n seleccionada:",{address:e,lat:t,lng:a})}})]})}},78157:(e,t,a)=>{"use strict";a.r(t),a.d(t,{AuthProvider:()=>AuthProvider,useAuth:()=>useAuth});var s=a(30784),r=a(9885);let i=(0,r.createContext)(void 0),AuthProvider=({children:e})=>{let[t,a]=(0,r.useState)(null),[n,o]=(0,r.useState)(!0);(0,r.useEffect)(()=>{checkUser()},[]);let checkUser=async()=>{try{let e=localStorage.getItem("mazuhi_user");e&&a(JSON.parse(e))}catch(e){console.error("Error checking user:",e)}finally{o(!1)}},register=async e=>{try{localStorage.setItem("mazuhi_user",JSON.stringify(e)),a(e)}catch(e){throw console.error("Error registering user:",e),e}},login=async e=>{try{localStorage.setItem("mazuhi_user",JSON.stringify(e)),a(e)}catch(e){throw console.error("Error logging in user:",e),e}};return s.jsx(i.Provider,{value:{user:t,isLoading:n,register,login,logout:()=>{localStorage.removeItem("mazuhi_user"),a(null)},checkUser},children:e})},useAuth=()=>{let e=(0,r.useContext)(i);if(!e)throw Error("useAuth must be used within AuthProvider");return e}},78133:(e,t,a)=>{"use strict";a.r(t),a.d(t,{CartProvider:()=>CartProvider,useCart:()=>useCart});var s=a(30784),r=a(9885);let i={items:[],total:0,itemCount:0,isOpen:!1};function calculateSubtotal(e,t,a){let s=e.precio,r=t.complementos.reduce((e,t)=>e+(t.price||0),0);return(s+r)*a}function cartReducer(e,t){switch(t.type){case"ADD_TO_CART":{let{item:a,options:s}=t.payload,r=`${a.nombre}-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,i={id:r,menuItem:a,quantity:1,options:s,subtotal:calculateSubtotal(a,s,1)},n=[...e.items,i],o=n.reduce((e,t)=>e+t.subtotal,0),l=n.reduce((e,t)=>e+t.quantity,0);return{...e,items:n,total:o,itemCount:l}}case"REMOVE_FROM_CART":{let a=e.items.filter(e=>e.id!==t.payload),s=a.reduce((e,t)=>e+t.subtotal,0),r=a.reduce((e,t)=>e+t.quantity,0);return{...e,items:a,total:s,itemCount:r}}case"UPDATE_QUANTITY":{let{id:a,quantity:s}=t.payload;if(s<=0)return cartReducer(e,{type:"REMOVE_FROM_CART",payload:a});let r=e.items.map(e=>{if(e.id===a){let t=calculateSubtotal(e.menuItem,e.options,s);return{...e,quantity:s,subtotal:t}}return e}),i=r.reduce((e,t)=>e+t.subtotal,0),n=r.reduce((e,t)=>e+t.quantity,0);return{...e,items:r,total:i,itemCount:n}}case"CLEAR_CART":return i;case"TOGGLE_CART":return{...e,isOpen:!e.isOpen};case"LOAD_CART":return t.payload;default:return e}}let n=(0,r.createContext)(void 0);function CartProvider({children:e}){let[t,a]=(0,r.useReducer)(cartReducer,i);(0,r.useEffect)(()=>{try{let e=localStorage.getItem("sushi-cart");if(e){let t=JSON.parse(e);a({type:"LOAD_CART",payload:t})}}catch(e){console.error("Error loading cart from localStorage:",e)}},[]),(0,r.useEffect)(()=>{try{localStorage.setItem("sushi-cart",JSON.stringify(t))}catch(e){console.error("Error saving cart to localStorage:",e)}},[t]);let removeFromCart=e=>{a({type:"REMOVE_FROM_CART",payload:e})};return s.jsx(n.Provider,{value:{cart:t,addToCart:(e,t)=>{a({type:"ADD_TO_CART",payload:{item:e,options:t}})},removeFromCart,updateQuantity:(e,t)=>{t<=0&&removeFromCart(e)},clearCart:()=>{a({type:"CLEAR_CART"})},toggleCart:()=>{a({type:"TOGGLE_CART"})}},children:e})}function useCart(){let e=(0,r.useContext)(n);if(void 0===e)throw Error("useCart must be used within a CartProvider");return e}},34087:(e,t,a)=>{"use strict";a.d(t,{o:()=>s});let s=[{value:20,label:"$20"},{value:50,label:"$50"},{value:100,label:"$100"},{value:200,label:"$200"},{value:500,label:"$500"},{value:1e3,label:"$1,000"}]},30781:(e,t,a)=>{"use strict";a.d(t,{Gl:()=>sendWaiterNotification,KU:()=>sendOrderToTelegram,m1:()=>generateOrderNumber});let generateOrderNumber=()=>{let e=Date.now().toString().slice(-6),t=Math.floor(1e3*Math.random()).toString().padStart(3,"0");return`MZ${e}${t}`},sendOrderToTelegram=async(e,t,a)=>{try{let s=await fetch("/api/telegram",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({orderNumber:a,checkoutData:e,cart:t})}),r=await s.json();if(r.success)return{success:!0,message:"Pedido enviado exitosamente",orderNumber:r.orderNumber};return{success:!1,message:r.message||"Error al enviar el pedido"}}catch(e){return console.error("Error sending order to Telegram:",e),{success:!1,message:"Error de conexi\xf3n. Por favor intenta nuevamente."}}},sendWaiterNotification=async e=>{try{let t=await fetch("/api/waiter-notification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({cart:e})}),a=await t.json();if(a.success)return{success:!0,message:"Notificaci\xf3n de mesero enviada"};return{success:!1,message:a.message||"Error al enviar notificaci\xf3n"}}catch(e){return console.error("Error sending waiter notification:",e),{success:!1,message:"Error de conexi\xf3n"}}}},93897:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>RootLayout,metadata:()=>S,viewport:()=>E});var s=a(4656),r=a(82834),i=a.n(r),n=a(37550),o=a.n(n);a(5023);var l=a(95153);let c=(0,l.createProxy)(String.raw`/var/www/mazuhi-web/src/contexts/CartContext.tsx`),{__esModule:d,$$typeof:m}=c;c.default;let x=(0,l.createProxy)(String.raw`/var/www/mazuhi-web/src/contexts/CartContext.tsx#CartProvider`);(0,l.createProxy)(String.raw`/var/www/mazuhi-web/src/contexts/CartContext.tsx#useCart`);let u=(0,l.createProxy)(String.raw`/var/www/mazuhi-web/src/contexts/AuthContext.tsx`),{__esModule:h,$$typeof:g}=u;u.default;let p=(0,l.createProxy)(String.raw`/var/www/mazuhi-web/src/contexts/AuthContext.tsx#AuthProvider`);(0,l.createProxy)(String.raw`/var/www/mazuhi-web/src/contexts/AuthContext.tsx#useAuth`);let f=(0,l.createProxy)(String.raw`/var/www/mazuhi-web/src/components/CartSidebar.tsx`),{__esModule:b,$$typeof:y}=f,j=f.default,v=(0,l.createProxy)(String.raw`/var/www/mazuhi-web/src/components/CartFloatingButton.tsx`),{__esModule:N,$$typeof:w}=v,C=v.default;var k=a(41951);let S={title:{default:"Mazuhi Sushi - Fusi\xf3n Sinaloense-Oriental",template:"%s | Mazuhi Sushi"},description:"Disfruta de la mejor fusi\xf3n culinaria sinaloense-oriental con mariscos frescos. Sabores \xfanicos de Sinaloa con toques orientales. Delivery disponible.",keywords:["sushi","restaurante sinaloa","comida oriental","mariscos frescos","fusi\xf3n sinaloense","rolls","makis","delivery"],authors:[{name:"Mazuhi Sushi"}],creator:"Mazuhi Sushi",publisher:"Mazuhi Sushi",formatDetection:{email:!1,address:!1,telephone:!1},icons:{icon:[{url:"/images/icon.png",sizes:"any"},{url:"/images/icon.png",sizes:"16x16",type:"image/png"},{url:"/images/icon.png",sizes:"32x32",type:"image/png"}],shortcut:"/images/icon.png",apple:"/images/icon.png"},manifest:"/manifest.json",openGraph:{type:"website",locale:"es_MX",url:"https://mazuhisushi.com",title:"Mazuhi Sushi - Fusi\xf3n Sinaloense-Oriental",description:"Disfruta de la mejor fusi\xf3n culinaria sinaloense-oriental con mariscos frescos.",siteName:"Mazuhi Sushi",images:[{url:"/images/og-image.jpg",width:1200,height:630,alt:"Mazuhi Sushi - Fusi\xf3n culinaria"}]},twitter:{card:"summary_large_image",title:"Mazuhi Sushi - Fusi\xf3n Sinaloense-Oriental",description:"Disfruta de la mejor fusi\xf3n culinaria sinaloense-oriental con mariscos frescos.",images:["/images/twitter-image.jpg"]},robots:{index:!0,follow:!0,googleBot:{index:!0,follow:!0,"max-video-preview":-1,"max-image-preview":"large","max-snippet":-1}}},E={width:"device-width",initialScale:1,maximumScale:5,userScalable:!0,themeColor:"#e09e7d"};function RootLayout({children:e}){return(0,s.jsxs)("html",{lang:"es",className:"scroll-smooth",children:[(0,s.jsxs)("head",{children:[s.jsx("link",{rel:"preload",href:"/images/gabo.png",as:"image"}),s.jsx("link",{rel:"dns-prefetch",href:"//fonts.googleapis.com"}),s.jsx("link",{rel:"dns-prefetch",href:"//fonts.gstatic.com"}),s.jsx("link",{rel:"preconnect",href:"https://i.postimg.cc",crossOrigin:""}),s.jsx("script",{async:!0,defer:!0,src:"https://maps.googleapis.com/maps/api/js?key=AIzaSyBxbh_EI94DX1TRXNtsSQv2ZkHKioSeW1I&libraries=places,geometry"})]}),s.jsx("body",{className:`${i().className} ${o().variable} antialiased`,children:s.jsx(p,{children:(0,s.jsxs)(x,{children:[e,s.jsx(j,{}),s.jsx(C,{}),s.jsx(k.ZP,{})]})})})]})}},41951:(e,t,a)=>{"use strict";a.d(t,{ZP:()=>l});var s=a(95153);let r=(0,s.createProxy)(String.raw`/var/www/mazuhi-web/src/components/BottomNavigation.tsx`),{__esModule:i,$$typeof:n}=r,o=r.default,l=o},5023:()=>{}};