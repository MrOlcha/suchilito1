(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{4169:function(e,r,t){Promise.resolve().then(t.bind(t,7355))},7355:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return LoginPage}});var s=t(7437),a=t(2265),i=t(4033),n=t(5251),l=t(1396),o=t.n(l),d=t(5846),c=t(9585),m=t(3549),x=t(1809),u=t(4424),h=t(4238),p=t(1543),f=t(9367);function LoginPage(){let e=(0,i.useRouter)(),{login:r}=(0,m.useAuth)(),[t,l]=(0,a.useState)(""),[b,y]=(0,a.useState)(""),[g,j]=(0,a.useState)(!1),[v,N]=(0,a.useState)(!1),[w,E]=(0,a.useState)(""),handleSubmit=async s=>{s.preventDefault(),E(""),N(!0);try{let s=await fetch("/pos/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({correo:t,password:b})}),a=await s.json();if(!s.ok)throw Error(a.message||"Error al iniciar sesi\xf3n");r&&await r(a.user),e.push("/")}catch(e){E(e instanceof Error?e.message:"Error al iniciar sesi\xf3n")}finally{N(!1)}};return(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-secondary-50",children:[(0,s.jsx)(d.default,{}),(0,s.jsx)("div",{className:"pt-24 pb-16",children:(0,s.jsx)("div",{className:"max-w-md mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[(0,s.jsxs)("div",{className:"bg-gradient-to-r from-primary-300 to-secondary-600 px-8 py-8 text-center",children:[(0,s.jsx)(n.E.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.5,delay:.2},className:"w-20 h-20 bg-white rounded-full flex items-center justify-center mx-auto mb-4",children:(0,s.jsx)(x.Z,{className:"h-10 w-10 text-primary-300"})}),(0,s.jsx)("h1",{className:"text-2xl font-bold text-white mb-2",children:"Bienvenido de vuelta"}),(0,s.jsx)("p",{className:"text-white/90",children:"Inicia sesi\xf3n en tu cuenta"})]}),(0,s.jsxs)("div",{className:"px-8 py-8",children:[w&&(0,s.jsx)("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:(0,s.jsx)("p",{className:"text-sm text-red-600 font-medium",children:w})}),(0,s.jsxs)("form",{onSubmit:handleSubmit,className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"correo",className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo Electr\xf3nico"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{id:"correo",type:"email",value:t,onChange:e=>l(e.target.value),required:!0,className:"w-full px-4 py-3 pl-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-300 focus:border-transparent transition-all duration-200",placeholder:"tu@email.com"}),(0,s.jsx)(u.Z,{className:"absolute left-3 top-3.5 h-5 w-5 text-gray-400"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Contrase\xf1a"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{id:"password",type:g?"text":"password",value:b,onChange:e=>y(e.target.value),required:!0,className:"w-full px-4 py-3 pl-12 pr-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-300 focus:border-transparent transition-all duration-200",placeholder:"••••••••"}),(0,s.jsx)(h.Z,{className:"absolute left-3 top-3.5 h-5 w-5 text-gray-400"}),(0,s.jsx)("button",{type:"button",onClick:()=>j(!g),className:"absolute right-3 top-3.5 text-gray-400 hover:text-gray-600 transition-colors",children:g?(0,s.jsx)(p.Z,{className:"h-5 w-5"}):(0,s.jsx)(f.Z,{className:"h-5 w-5"})})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-primary-300 focus:ring-primary-300 border-gray-300 rounded"}),(0,s.jsx)("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700",children:"Recordarme"})]}),(0,s.jsx)(o(),{href:"/forgot-password",className:"text-sm text-primary-300 hover:text-primary-400 font-medium transition-colors",children:"\xbfOlvidaste tu contrase\xf1a?"})]}),(0,s.jsx)(n.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:v,className:"w-full bg-gradient-to-r from-primary-300 to-secondary-600 hover:from-primary-400 hover:to-secondary-700 text-white font-semibold py-3 px-6 rounded-lg shadow-md transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:v?(0,s.jsxs)("div",{className:"flex items-center justify-center",children:[(0,s.jsx)(n.E.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full mr-2"}),"Iniciando sesi\xf3n..."]}):"Iniciar Sesi\xf3n"})]}),(0,s.jsx)("div",{className:"mt-8 mb-6",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,s.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,s.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,s.jsx)("span",{className:"px-2 bg-white text-gray-500",children:"\xbfNo tienes cuenta?"})})]})}),(0,s.jsx)("div",{className:"text-center",children:(0,s.jsx)(o(),{href:"/registro",className:"inline-flex items-center justify-center w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors duration-200",children:"Crear nueva cuenta"})}),(0,s.jsx)("div",{className:"mt-6 text-center",children:(0,s.jsx)(o(),{href:"/",className:"text-sm text-gray-600 hover:text-primary-300 transition-colors",children:"← Volver al inicio"})})]})]})})}),(0,s.jsx)(c.default,{})]})}}},function(e){e.O(0,[597,358,619,744],function(){return e(e.s=4169)}),_N_E=e.O()}]);