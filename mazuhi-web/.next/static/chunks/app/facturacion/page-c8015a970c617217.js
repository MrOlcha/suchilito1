(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[996],{7642:function(e,r,t){Promise.resolve().then(t.bind(t,6901)),Promise.resolve().then(t.bind(t,1794)),Promise.resolve().then(t.bind(t,5846))},6901:function(e,r,t){"use strict";t.r(r);var a=t(7437),s=t(4033),n=t(1396),i=t.n(n),o=t(6691),l=t.n(o),c=t(5251),d=t(4992),u=t(2170),m=t(6263),h=t(9267),x=t(3288),g=t(9298),p=t(8248),f=t(5880),b=t(139);r.default=()=>{let e=(0,s.usePathname)(),{cart:r}=(0,b.useCart)();if("/rest"===e)return null;let t=[{name:"INICIO",href:"/",icon:d.Z,iconSolid:x.Z},{name:"MEN\xda",href:"/menu",icon:"custom-menu",iconSolid:"custom-menu"},{name:"CARRITO",href:"/cart",icon:u.Z,iconSolid:g.Z,isCenter:!0},{name:"UBICACI\xd3N",href:"/ubicacion",icon:m.Z,iconSolid:p.Z},{name:"HISTORIA",href:"/historia",icon:h.Z,iconSolid:f.Z}],n=r.items.reduce((e,r)=>e+r.quantity,0);return(0,a.jsx)(c.E.nav,{initial:{y:100},animate:{y:0},transition:{duration:.3,ease:"easeInOut"},className:"fixed bottom-0 left-0 right-0 bg-white/95 backdrop-blur-lg border-t border-gray-200 shadow-lg z-50 md:hidden",children:(0,a.jsx)("div",{className:"flex items-center justify-around py-2 px-1",children:t.map(r=>{let t=e===r.href;return(0,a.jsx)(i(),{href:r.href,className:"relative flex flex-col items-center justify-center p-2 rounded-lg transition-all duration-200 ".concat(r.isCenter?"mx-2":""),children:r.isCenter?(0,a.jsxs)(c.E.div,{whileTap:{scale:.9},className:"relative flex items-center justify-center w-14 h-14 rounded-full shadow-lg transition-all duration-200 ".concat(t?"bg-gradient-to-r from-blue-500 via-secondary-600 to-indigo-600 text-white":"bg-gradient-to-r from-blue-400 via-secondary-500 to-indigo-500 text-white"),children:[(0,a.jsx)(u.Z,{className:"w-7 h-7"}),n>0&&(0,a.jsx)(c.E.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold rounded-full w-6 h-6 flex items-center justify-center shadow-lg",children:n>99?"99+":n})]}):(0,a.jsx)(c.E.div,{whileTap:{scale:.95},className:"flex flex-col items-center",children:(0,a.jsx)("div",{className:"p-3 rounded-lg transition-all duration-200 ".concat(t?"bg-blue-50 text-secondary-600":"text-gray-500"),children:(()=>{if("custom-menu"===r.icon)return(0,a.jsx)("div",{className:"relative w-6 h-6",children:(0,a.jsx)(l(),{src:"/images/menu.svg",alt:"Men\xfa",width:24,height:24,className:"w-6 h-6 transition-all duration-200 ".concat(t?"brightness-0 saturate-100":"brightness-0 saturate-100 opacity-60"),style:{filter:t?"invert(29%) sepia(96%) saturate(1582%) hue-rotate(208deg) brightness(97%) contrast(93%)":"invert(55%) sepia(8%) saturate(9%) hue-rotate(316deg) brightness(95%) contrast(86%)"}})});{let e=t?r.iconSolid:r.icon;return(0,a.jsx)(e,{className:"w-6 h-6"})}})()})})},r.name)})})})}},1794:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return FacturacionPage}});var a=t(7437),s=t(2265),n=t(5251),i=t(6610),o=t(9186);function FacturacionPage(){let[e,r]=(0,s.useState)({folio:"",importe:"",razonSocial:"",rfc:"",cp:"",regimenFiscal:"General de Ley Personas Morales",usoCFDI:"Gastos en General",correo:""}),[t,l]=(0,s.useState)(!1),[c,d]=(0,s.useState)(!1),handleInputChange=e=>{let{name:t,value:a}=e.target;r(e=>({...e,[t]:a}))},handleSubmit=async e=>{e.preventDefault(),l(!0),setTimeout(()=>{l(!1),d(!0),setTimeout(()=>{d(!1),r({folio:"",importe:"",razonSocial:"",rfc:"",cp:"",regimenFiscal:"General de Ley Personas Morales",usoCFDI:"Gastos en General",correo:""})},3e3)},2e3)};return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white pt-8",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-12",children:[(0,a.jsx)("div",{className:"flex justify-center mb-4",children:(0,a.jsx)(i.Z,{className:"w-16 h-16 text-blue-600"})}),(0,a.jsx)("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Facturaci\xf3n Electr\xf3nica"}),(0,a.jsx)("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Genera tu factura proporcionando los datos de tu ticket de compra"})]}),c&&(0,a.jsx)(n.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8 bg-green-50 border border-green-200 rounded-lg p-6",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(o.Z,{className:"w-8 h-8 text-green-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-green-900",children:"\xa1Factura generada exitosamente!"}),(0,a.jsx)("p",{className:"text-green-700",children:"Se ha enviado a tu correo electr\xf3nico"})]})]})}),(0,a.jsx)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"bg-white rounded-2xl shadow-xl p-8",children:(0,a.jsxs)("form",{onSubmit:handleSubmit,className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"folio",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Folio"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mb-2",children:"Ubicado en la parte inferior del ticket"}),(0,a.jsx)("input",{type:"text",id:"folio",name:"folio",value:e.folio,onChange:handleInputChange,required:!0,placeholder:"Ej: A12345",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"importe",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Importe"}),(0,a.jsx)("input",{type:"number",id:"importe",name:"importe",value:e.importe,onChange:handleInputChange,required:!0,step:"0.01",placeholder:"0.00",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"razonSocial",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Raz\xf3n Social Receptor"}),(0,a.jsx)("input",{type:"text",id:"razonSocial",name:"razonSocial",value:e.razonSocial,onChange:handleInputChange,required:!0,placeholder:"Nombre o raz\xf3n social",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"rfc",className:"block text-sm font-semibold text-gray-700 mb-2",children:"RFC Receptor"}),(0,a.jsx)("input",{type:"text",id:"rfc",name:"rfc",value:e.rfc,onChange:handleInputChange,required:!0,placeholder:"XAXX010101000",maxLength:13,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all uppercase"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"cp",className:"block text-sm font-semibold text-gray-700 mb-2",children:"CP Receptor"}),(0,a.jsx)("input",{type:"text",id:"cp",name:"cp",value:e.cp,onChange:handleInputChange,required:!0,placeholder:"76000",maxLength:5,pattern:"[0-9]{5}",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"regimenFiscal",className:"block text-sm font-semibold text-gray-700 mb-2",children:"R\xe9gimen Fiscal Receptor"}),(0,a.jsxs)("select",{id:"regimenFiscal",name:"regimenFiscal",value:e.regimenFiscal,onChange:handleInputChange,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all bg-white",children:[(0,a.jsx)("option",{value:"General de Ley Personas Morales",children:"General de Ley Personas Morales"}),(0,a.jsx)("option",{value:"Personas Morales con Fines no Lucrativos",children:"Personas Morales con Fines no Lucrativos"}),(0,a.jsx)("option",{value:"Sueldos y Salarios e Ingresos Asimilados a Salarios",children:"Sueldos y Salarios e Ingresos Asimilados a Salarios"}),(0,a.jsx)("option",{value:"Arrendamiento",children:"Arrendamiento"}),(0,a.jsx)("option",{value:"Actividades Empresariales y Profesionales",children:"Actividades Empresariales y Profesionales"}),(0,a.jsx)("option",{value:"R\xe9gimen Simplificado de Confianza",children:"R\xe9gimen Simplificado de Confianza"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"usoCFDI",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Uso CFDI"}),(0,a.jsxs)("select",{id:"usoCFDI",name:"usoCFDI",value:e.usoCFDI,onChange:handleInputChange,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all bg-white",children:[(0,a.jsx)("option",{value:"Gastos en General",children:"Gastos en General"}),(0,a.jsx)("option",{value:"Adquisici\xf3n de Mercanc\xedas",children:"Adquisici\xf3n de Mercanc\xedas"}),(0,a.jsx)("option",{value:"Honorarios M\xe9dicos",children:"Honorarios M\xe9dicos"}),(0,a.jsx)("option",{value:"Gastos M\xe9dicos por Incapacidad",children:"Gastos M\xe9dicos por Incapacidad"}),(0,a.jsx)("option",{value:"Por Definir",children:"Por Definir"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"correo",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Correo"}),(0,a.jsx)("input",{type:"email",id:"correo",name:"correo",value:e.correo,onChange:handleInputChange,required:!0,placeholder:"correo@ejemplo.com",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 pt-4",children:[(0,a.jsx)("button",{type:"submit",disabled:t,className:"flex-1 bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white font-bold py-4 px-6 rounded-lg transition-all shadow-lg hover:shadow-xl disabled:cursor-not-allowed",children:t?"Generando...":"Generar Factura"}),(0,a.jsx)("button",{type:"button",onClick:()=>{alert("Funcionalidad de b\xfasqueda en desarrollo")},className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 px-6 rounded-lg transition-all shadow-lg hover:shadow-xl",children:"Buscar Factura"})]})]})}),(0,a.jsxs)(n.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.4},className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-6",children:[(0,a.jsx)("h3",{className:"font-semibold text-blue-900 mb-3",children:"Informaci\xf3n importante:"}),(0,a.jsxs)("ul",{className:"space-y-2 text-sm text-blue-800",children:[(0,a.jsx)("li",{children:"• La factura se enviar\xe1 al correo electr\xf3nico proporcionado"}),(0,a.jsx)("li",{children:"• Aseg\xfarate de que los datos sean correctos antes de generar la factura"}),(0,a.jsx)("li",{children:"• El folio se encuentra en la parte inferior de tu ticket de compra"}),(0,a.jsx)("li",{children:"• La factura se generar\xe1 en formato PDF y XML"})]})]})]})})}},5846:function(e,r,t){"use strict";t.r(r);var a=t(7437),s=t(2265),n=t(5251),i=t(6691),o=t.n(i),l=t(1396),c=t.n(l),d=t(1809),u=t(3549);r.default=()=>{let[e,r]=(0,s.useState)(!1),{user:t,logout:i,isLoading:l}=(0,u.useAuth)();return(0,s.useEffect)(()=>{let handleScroll=()=>{r(window.scrollY>50)};return window.addEventListener("scroll",handleScroll),()=>window.removeEventListener("scroll",handleScroll)},[]),(0,a.jsx)(n.E.header,{initial:{y:-100},animate:{y:0},transition:{duration:.6},className:"md:fixed top-0 left-0 right-0 z-50 transition-all duration-300 ".concat(e?"bg-white/95 backdrop-blur-lg shadow-lg":"bg-transparent"),children:(0,a.jsx)("nav",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between md:justify-between items-center h-16 md:h-16",children:[(0,a.jsx)(n.E.div,{whileHover:{scale:1.05},className:"flex-shrink-0 md:flex-shrink-0 mx-auto md:mx-0",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(o(),{src:"/images/logo.svg",alt:"Mazuhi Sushi Logo",width:120,height:40,className:"h-10 w-auto hidden md:block"}),(0,a.jsx)(o(),{src:"/images/iconologo.svg",alt:"Mazuhi Sushi Logo",width:60,height:60,className:"h-12 w-auto md:hidden"})]})}),(0,a.jsx)("div",{className:"hidden md:block",children:(0,a.jsx)("div",{className:"ml-10 flex items-baseline space-x-8",children:[{name:"Inicio",href:"/"},{name:"Men\xfa",href:"/menu"},{name:"Ubicaci\xf3n",href:"/ubicacion"},{name:"Historia",href:"/historia"}].map((e,r)=>(0,a.jsx)(n.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1*r},children:(0,a.jsxs)(c(),{href:e.href,className:"text-gray-700 hover:text-primary-300 px-3 py-2 font-medium transition-colors duration-300 relative group font-condiment",style:{fontSize:"1.2rem"},children:[e.name,(0,a.jsx)("span",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-primary-300 transition-all duration-300 group-hover:w-full"})]})},e.name))})}),(0,a.jsx)("div",{className:"hidden md:flex items-center space-x-3",children:!l&&t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 bg-green-50 px-4 py-3 rounded-lg border border-green-200",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-green-500 text-white rounded-full flex items-center justify-center font-bold text-sm",children:t.nombre.charAt(0).toUpperCase()}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{className:"text-sm font-semibold text-green-700",children:t.nombre}),0===t.email_verificado&&(0,a.jsx)("span",{className:"text-xs text-orange-600 font-medium",children:"⚠️ Email no verificado"})]})]}),(0,a.jsx)("button",{onClick:i,className:"flex items-center space-x-2 bg-red-600 hover:bg-red-700 text-white font-semibold py-2 px-4 rounded-lg shadow-md transition-all duration-200 text-sm",children:(0,a.jsx)("span",{children:"Cerrar Sesi\xf3n"})})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c(),{href:"/login",children:(0,a.jsxs)(n.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-primary-300 hover:bg-primary-400 text-white font-semibold py-3 px-6 rounded-lg shadow-md transition-all duration-200",children:[(0,a.jsx)(d.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"text-sm",children:"Iniciar Sesi\xf3n"})]})}),(0,a.jsx)(c(),{href:"/facturacion",children:(0,a.jsx)(n.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-gray-800 hover:bg-gray-700 text-white font-semibold py-3 px-6 rounded-lg shadow-md transition-all duration-200",children:(0,a.jsx)("span",{className:"text-sm",children:"Facturaci\xf3n"})})})]})})]})})})}},3549:function(e,r,t){"use strict";t.r(r),t.d(r,{AuthProvider:function(){return AuthProvider},useAuth:function(){return useAuth}});var a=t(7437),s=t(2265);let n=(0,s.createContext)(void 0),AuthProvider=e=>{let{children:r}=e,[t,i]=(0,s.useState)(null),[o,l]=(0,s.useState)(!0);(0,s.useEffect)(()=>{checkUser()},[]);let checkUser=async()=>{try{let e=localStorage.getItem("mazuhi_user");e&&i(JSON.parse(e))}catch(e){console.error("Error checking user:",e)}finally{l(!1)}},register=async e=>{try{localStorage.setItem("mazuhi_user",JSON.stringify(e)),i(e)}catch(e){throw console.error("Error registering user:",e),e}},login=async e=>{try{localStorage.setItem("mazuhi_user",JSON.stringify(e)),i(e)}catch(e){throw console.error("Error logging in user:",e),e}};return(0,a.jsx)(n.Provider,{value:{user:t,isLoading:o,register,login,logout:()=>{localStorage.removeItem("mazuhi_user"),i(null),window.location.href="/"},checkUser},children:r})},useAuth=()=>{let e=(0,s.useContext)(n);if(!e)throw Error("useAuth must be used within AuthProvider");return e}},139:function(e,r,t){"use strict";t.r(r),t.d(r,{CartProvider:function(){return CartProvider},useCart:function(){return useCart}});var a=t(7437),s=t(2265);let n={items:[],total:0,itemCount:0,isOpen:!1};function calculateSubtotal(e,r,t){let a=e.precio,s=r.complementos.reduce((e,r)=>e+(r.price||0),0);return(a+s)*t}function cartReducer(e,r){switch(r.type){case"ADD_TO_CART":{let{item:t,options:a}=r.payload,s="".concat(t.nombre,"-").concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),n={id:s,menuItem:t,quantity:1,options:a,subtotal:calculateSubtotal(t,a,1)},i=[...e.items,n],o=i.reduce((e,r)=>e+r.subtotal,0),l=i.reduce((e,r)=>e+r.quantity,0);return{...e,items:i,total:o,itemCount:l}}case"REMOVE_FROM_CART":{let t=e.items.filter(e=>e.id!==r.payload),a=t.reduce((e,r)=>e+r.subtotal,0),s=t.reduce((e,r)=>e+r.quantity,0);return{...e,items:t,total:a,itemCount:s}}case"UPDATE_QUANTITY":{let{id:t,quantity:a}=r.payload;if(a<=0)return cartReducer(e,{type:"REMOVE_FROM_CART",payload:t});let s=e.items.map(e=>{if(e.id===t){let r=calculateSubtotal(e.menuItem,e.options,a);return{...e,quantity:a,subtotal:r}}return e}),n=s.reduce((e,r)=>e+r.subtotal,0),i=s.reduce((e,r)=>e+r.quantity,0);return{...e,items:s,total:n,itemCount:i}}case"CLEAR_CART":return n;case"TOGGLE_CART":return{...e,isOpen:!e.isOpen};case"LOAD_CART":return r.payload;default:return e}}let i=(0,s.createContext)(void 0);function CartProvider(e){let{children:r}=e,[t,o]=(0,s.useReducer)(cartReducer,n);(0,s.useEffect)(()=>{try{let e=localStorage.getItem("sushi-cart");if(e){let r=JSON.parse(e);o({type:"LOAD_CART",payload:r})}}catch(e){console.error("Error loading cart from localStorage:",e)}},[]),(0,s.useEffect)(()=>{try{localStorage.setItem("sushi-cart",JSON.stringify(t))}catch(e){console.error("Error saving cart to localStorage:",e)}},[t]);let removeFromCart=e=>{o({type:"REMOVE_FROM_CART",payload:e})};return(0,a.jsx)(i.Provider,{value:{cart:t,addToCart:(e,r)=>{o({type:"ADD_TO_CART",payload:{item:e,options:r}})},removeFromCart,updateQuantity:(e,r)=>{r<=0&&removeFromCart(e)},clearCart:()=>{o({type:"CLEAR_CART"})},toggleCart:()=>{o({type:"TOGGLE_CART"})}},children:r})}function useCart(){let e=(0,s.useContext)(i);if(void 0===e)throw Error("useCart must be used within a CartProvider");return e}}},function(e){e.O(0,[597,358,744],function(){return e(e.s=7642)}),_N_E=e.O()}]);