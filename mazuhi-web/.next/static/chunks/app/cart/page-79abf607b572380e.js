(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[565],{8385:function(e,t,a){Promise.resolve().then(a.bind(a,5060))},5060:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return CartPage}});var s=a(7437),r=a(2265),n=a(139),i=a(5251),o=a(6691),l=a.n(o),c=a(7227),d=a(5106),m=a(5255),x=a(1218),h=a(1396),u=a.n(h),p=a(5846),g=a(3942),y=a(6689),b=a(7805),f=a(1809),j=a(8265),v=a(2584),N=a(2929),w=a(1733),C=a(3352),E=a(5587),k=a(6263),S=a(13),T=a(3217),A=a(986),D=a(3549),P=a(3242);function CheckoutModal(e){var t,a,i,o,l,c;let{isOpen:d,onClose:m,onComplete:x}=e,{cart:h}=(0,n.useCart)(),{user:u,isLoading:p}=(0,D.useAuth)(),[O,F]=(0,r.useState)(0),[R,Z]=(0,r.useState)({contact:{name:"",phone:""},delivery:{type:"pickup"},payment:{method:"cash"},notes:""}),[M,_]=(0,r.useState)({}),[L,$]=(0,r.useState)(!1);(0,r.useEffect)(()=>{d&&!p&&(console.log("\uD83D\uDD0D CheckoutModal abierto - Estado del usuario:",{user:u?{telefono:u.telefono,correo:u.correo}:null,isLoading:p,currentStep:O}),u?(console.log("✅ Usuario detectado - Saltando paso de contacto"),F(0),Z(e=>({...e,contact:{name:"".concat(u.telefono),phone:u.telefono,email:u.correo}}))):(console.log("❌ Sin usuario - Mostrar paso de contacto"),F(0),Z({contact:{name:"",phone:""},delivery:{type:"pickup"},payment:{method:"cash"},notes:""})))},[d,p,u]);let I="delivery"===R.delivery.type?30:0,z=[{id:"contact",title:"Informaci\xf3n de Contacto",description:"Tu nombre y tel\xe9fono",isCompleted:!1,isActive:0===O},{id:"delivery",title:"M\xe9todo de Entrega",description:"Recojo o delivery",isCompleted:!1,isActive:u?0===O:1===O},{id:"payment",title:"M\xe9todo de Pago",description:"Efectivo o tarjeta",isCompleted:!1,isActive:u?1===O:2===O},{id:"review",title:"Revisar Pedido",description:"Confirma tu orden",isCompleted:!1,isActive:u?2===O:3===O}],updateCheckoutData=e=>{Z(t=>({...t,...e}))},validateStep=e=>{let t={},a=u?e+1:e;switch(a){case 0:if(!u){if("cc"===R.contact.name.toLowerCase().trim())break;R.contact.name.trim()||(t.contact={name:"El nombre es requerido"}),R.contact.phone.trim()||(t.contact={...t.contact,phone:"El tel\xe9fono es requerido"})}break;case 1:var s;"delivery"!==R.delivery.type||(null===(s=R.delivery.address)||void 0===s?void 0:s.trim())||(t.delivery={address:"La direcci\xf3n es requerida para delivery"});break;case 2:"cash"!==R.payment.method||R.payment.exactChange||R.payment.cashAmount||(t.payment={cashAmount:"Selecciona la denominaci\xf3n con la que pagar\xe1s o marca pago exacto"})}return _(t),0===Object.keys(t).length},nextStep=async()=>{let e=R.contact.name,t=e.toLowerCase().trim();if(console.log("\uD83D\uDD0D DEBUG nextStep:",{nombreActual:e,nombreLimpio:t,esCC:"cc"===t,currentStep:O,user:!!u}),0===O&&!u&&"cc"===t){console.log("✅ DETECTADO CC - Enviando notificaci\xf3n de mesero"),_({}),$(!0);try{let e=await (0,P.Gl)(h);console.log("\uD83D\uDCE4 Resultado de notificaci\xf3n:",e),e.success?(alert("✅ Notificaci\xf3n de mesero enviada"),m()):alert("Error: ".concat(e.message))}catch(e){console.error("Error al enviar notificaci\xf3n de mesero:",e),alert("Error al enviar notificaci\xf3n de mesero")}finally{$(!1)}return}let a=u?3:4;if(validateStep(O)){let e=O+1;e<a&&F(e)}},formatPhone=e=>{let t=e.replace(/\D/g,"");return t.length<=3?t:t.length<=6?"".concat(t.slice(0,3),"-").concat(t.slice(3)):"".concat(t.slice(0,3),"-").concat(t.slice(3,6),"-").concat(t.slice(6,10))},handleComplete=async()=>{if(validateStep(O)){$(!0);try{let e=(0,P.m1)(),t=await (0,P.KU)(R,h,e);t.success?x({...R,orderNumber:e,success:!0,message:t.message}):alert("Error: ".concat(t.message))}catch(e){console.error("Error al procesar el pedido:",e),alert("Error al procesar el pedido. Por favor intenta nuevamente.")}$(!1)}};return(0,s.jsxs)(g.Vq,{open:d,onClose:m,className:"relative z-50",children:[(0,s.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm"}),(0,s.jsx)("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:(0,s.jsx)("div",{className:"flex min-h-full items-center justify-center p-4",children:(0,s.jsxs)(g.EM,{className:"w-full max-w-2xl transform overflow-hidden rounded-3xl bg-white shadow-2xl transition-all",children:[(0,s.jsxs)("div",{className:"bg-gradient-to-r from-orange-500 to-red-500 px-8 py-6 text-white",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-bold",children:"Finalizar Pedido"}),(0,s.jsx)("p",{className:"text-orange-100 mt-1",children:z[O].title})]}),(0,s.jsx)("button",{onClick:m,className:"text-white/80 hover:text-white transition-colors",children:(0,s.jsx)(y.Z,{className:"h-6 w-6"})})]}),(0,s.jsx)("div",{className:"mt-6",children:(0,s.jsx)("div",{className:"flex items-center justify-between",children:z.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"\n                        flex items-center justify-center w-8 h-8 rounded-full text-sm font-medium\n                        ".concat(t<=O?"bg-white text-orange-500":"bg-orange-400 text-white","\n                      "),children:t<O?(0,s.jsx)(b.Z,{className:"w-4 h-4"}):t+1}),t<z.length-1&&(0,s.jsx)("div",{className:"\n                          w-12 h-0.5 mx-2\n                          ".concat(t<O?"bg-white":"bg-orange-400","\n                        ")})]},e.id))})})]}),(0,s.jsxs)("div",{className:"p-8",children:[p&&(0,s.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"w-12 h-12 rounded-full border-4 border-orange-200 border-t-orange-500 animate-spin mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Verificando tu sesi\xf3n..."})]})}),!p&&(0,s.jsxs)(s.Fragment,{children:[0===O&&!u&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)(f.Z,{className:"w-16 h-16 text-orange-500 mx-auto mb-4"}),(0,s.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Informaci\xf3n de Contacto"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Necesitamos tus datos para contactarte sobre tu pedido"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre Completo *"}),(0,s.jsx)("input",{type:"text",value:R.contact.name,onChange:e=>{let t=e.target.value;updateCheckoutData({contact:{...R.contact,name:t}}),"cc"===t.toLowerCase().trim()&&_({})},className:"w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ".concat((null===(t=M.contact)||void 0===t?void 0:t.name)?"border-red-500":"border-gray-300"),placeholder:"Ej: Juan P\xe9rez"}),(null===(a=M.contact)||void 0===a?void 0:a.name)&&(0,s.jsx)("p",{className:"text-red-500 text-sm mt-1",children:M.contact.name})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"N\xfamero de Tel\xe9fono *"}),(0,s.jsx)("input",{type:"tel",value:formatPhone(R.contact.phone),onChange:e=>updateCheckoutData({contact:{...R.contact,phone:e.target.value.replace(/\D/g,"")}}),className:"w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ".concat((null===(i=M.contact)||void 0===i?void 0:i.phone)?"border-red-500":"border-gray-300"),placeholder:"55-1234-5678",maxLength:12}),(null===(o=M.contact)||void 0===o?void 0:o.phone)&&(0,s.jsx)("p",{className:"text-red-500 text-sm mt-1",children:M.contact.phone})]})]}),(u?0===O:1===O)&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)(j.Z,{className:"w-16 h-16 text-orange-500 mx-auto mb-4"}),(0,s.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"\xbfC\xf3mo prefieres recibir tu pedido?"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Elige entre recoger en sucursal o delivery a domicilio"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("button",{onClick:()=>updateCheckoutData({delivery:{type:"pickup"}}),className:"p-6 border-2 rounded-2xl transition-all text-left ".concat("pickup"===R.delivery.type?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-gray-300"),children:[(0,s.jsx)(v.Z,{className:"w-8 h-8 text-orange-500 mb-3"}),(0,s.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"Recoger en Sucursal"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Recoge tu pedido en nuestro restaurante"}),(0,s.jsxs)("div",{className:"flex items-center text-sm text-orange-600",children:[(0,s.jsx)(N.Z,{className:"w-4 h-4 mr-1"}),"Listo en 30 min"]})]}),(0,s.jsxs)("button",{onClick:()=>updateCheckoutData({delivery:{type:"delivery",address:R.delivery.address||""}}),className:"p-6 border-2 rounded-2xl transition-all text-left ".concat("delivery"===R.delivery.type?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-gray-300"),children:[(0,s.jsx)(j.Z,{className:"w-8 h-8 text-orange-500 mb-3"}),(0,s.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"Delivery a Domicilio"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Te llevamos tu pedido hasta tu puerta"}),(0,s.jsxs)("div",{className:"flex items-center text-sm text-orange-600",children:[(0,s.jsx)(N.Z,{className:"w-4 h-4 mr-1"}),"Llega en 45 min"]})]})]}),"delivery"===R.delivery.type&&(0,s.jsxs)("div",{className:"mt-6",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Direcci\xf3n de Entrega *"}),(0,s.jsx)("textarea",{value:R.delivery.address||"",onChange:e=>updateCheckoutData({delivery:{...R.delivery,address:e.target.value}}),className:"w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ".concat((null===(l=M.delivery)||void 0===l?void 0:l.address)?"border-red-500":"border-gray-300"),placeholder:"Ingresa tu direcci\xf3n completa con referencias...",rows:3}),(null===(c=M.delivery)||void 0===c?void 0:c.address)&&(0,s.jsx)("p",{className:"text-red-500 text-sm mt-1",children:M.delivery.address})]})]}),(u?1===O:2===O)&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)(w.Z,{className:"w-16 h-16 text-orange-500 mx-auto mb-4"}),(0,s.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"\xbfC\xf3mo vas a pagar?"}),(0,s.jsxs)("p",{className:"text-gray-600",children:["El pago se realiza al ","pickup"===R.delivery.type?"recoger":"recibir"," tu pedido"]}),"delivery"===R.delivery.type&&(0,s.jsx)("div",{className:"mt-4 text-sm text-orange-600 font-semibold bg-orange-50 rounded-xl py-2 px-4 inline-block",children:"Se realizar\xe1 un cobro adicional de $30.00 por tarifa de env\xedo a domicilio."})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("button",{onClick:()=>updateCheckoutData({payment:{method:"cash"}}),className:"p-6 border-2 rounded-2xl transition-all text-left ".concat("cash"===R.payment.method?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-gray-300"),children:[(0,s.jsx)(C.Z,{className:"w-8 h-8 text-orange-500 mb-3"}),(0,s.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"Efectivo"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Paga en efectivo y te damos tu cambio"})]}),(0,s.jsxs)("button",{onClick:()=>updateCheckoutData({payment:{method:"card"}}),className:"p-6 border-2 rounded-2xl transition-all text-left ".concat("card"===R.payment.method?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-gray-300"),children:[(0,s.jsx)(w.Z,{className:"w-8 h-8 text-orange-500 mb-3"}),(0,s.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"Tarjeta"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Paga con tarjeta de cr\xe9dito o d\xe9bito"})]})]}),"cash"===R.payment.method&&(0,s.jsxs)("div",{className:"mt-6",children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["\xbfCon cu\xe1nto vas a pagar? (Total: $",(h.total+I).toFixed(2),") *"]}),(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsxs)("label",{className:"flex items-center p-4 border-2 rounded-xl cursor-pointer transition-all hover:bg-gray-50",children:[(0,s.jsx)("input",{type:"checkbox",checked:R.payment.exactChange||!1,onChange:e=>{updateCheckoutData({payment:{...R.payment,exactChange:e.target.checked,cashAmount:e.target.checked?h.total+I:R.payment.cashAmount}})},className:"mr-3"}),(0,s.jsxs)("span",{className:"text-sm font-medium",children:["Pago exacto: $",(h.total+I).toFixed(2)]})]})}),!R.payment.exactChange&&(0,s.jsx)("div",{className:"grid grid-cols-3 gap-2",children:A.o.map(e=>(0,s.jsxs)("button",{onClick:()=>updateCheckoutData({payment:{...R.payment,cashAmount:e.value}}),className:"p-3 border-2 rounded-xl text-center transition-all ".concat(R.payment.cashAmount===e.value?"border-orange-500 bg-orange-50 text-orange-700":"border-gray-200 hover:border-gray-300"),children:[(0,s.jsx)("div",{className:"font-semibold",children:e.label}),R.payment.cashAmount===e.value&&(0,s.jsxs)("div",{className:"text-xs text-orange-600 mt-1",children:["Cambio: $",(e.value-(h.total+I)).toFixed(2)]})]},e.value))})]})]}),(u?2===O:3===O)&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)(b.Z,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),(0,s.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Revisa tu pedido"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Confirma que todo est\xe9 correcto antes de enviar"})]}),(0,s.jsxs)("div",{className:"bg-gray-50 rounded-2xl p-6",children:[(0,s.jsx)("h4",{className:"font-semibold text-gray-900 mb-4",children:"Resumen del Pedido"}),(0,s.jsxs)("div",{className:"mb-4 pb-4 border-b border-gray-200",children:[(0,s.jsxs)("div",{className:"flex items-center mb-2",children:[(0,s.jsx)(f.Z,{className:"w-5 h-5 text-gray-500 mr-2"}),(0,s.jsx)("span",{className:"font-medium",children:R.contact.name})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(E.Z,{className:"w-5 h-5 text-gray-500 mr-2"}),(0,s.jsx)("span",{children:formatPhone(R.contact.phone)})]})]}),(0,s.jsxs)("div",{className:"mb-4 pb-4 border-b border-gray-200",children:[(0,s.jsxs)("div",{className:"flex items-center mb-2",children:["pickup"===R.delivery.type?(0,s.jsx)(v.Z,{className:"w-5 h-5 text-gray-500 mr-2"}):(0,s.jsx)(j.Z,{className:"w-5 h-5 text-gray-500 mr-2"}),(0,s.jsx)("span",{className:"font-medium",children:"pickup"===R.delivery.type?"Recoger en Sucursal":"Delivery a Domicilio"})]}),R.delivery.address&&(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)(k.Z,{className:"w-5 h-5 text-gray-500 mr-2 mt-0.5"}),(0,s.jsx)("span",{className:"text-sm text-gray-600",children:R.delivery.address})]}),(0,s.jsxs)("div",{className:"flex items-center mt-2",children:[(0,s.jsx)(N.Z,{className:"w-5 h-5 text-gray-500 mr-2"}),(0,s.jsxs)("span",{className:"text-sm text-gray-600",children:["Tiempo estimado: ","pickup"===R.delivery.type?"30 min":"45 min"]})]})]}),(0,s.jsxs)("div",{className:"mb-4 pb-4 border-b border-gray-200",children:[(0,s.jsxs)("div",{className:"flex items-center mb-2",children:["cash"===R.payment.method?(0,s.jsx)(C.Z,{className:"w-5 h-5 text-gray-500 mr-2"}):(0,s.jsx)(w.Z,{className:"w-5 h-5 text-gray-500 mr-2"}),(0,s.jsx)("span",{className:"font-medium",children:"cash"===R.payment.method?"Efectivo":"Tarjeta"})]}),"cash"===R.payment.method&&R.payment.cashAmount&&(0,s.jsx)("div",{className:"text-sm text-gray-600",children:R.payment.exactChange?(0,s.jsxs)("span",{className:"text-green-600 font-medium",children:["✓ Pago exacto: $",R.payment.cashAmount.toFixed(2)]}):(0,s.jsxs)(s.Fragment,{children:["Pagas con: $",R.payment.cashAmount.toFixed(2),(0,s.jsx)("br",{}),"Tu cambio: $",("cash"===R.payment.method&&R.payment.cashAmount?R.payment.cashAmount-(h.total+I):0).toFixed(2)]})})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center text-base",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Subtotal productos"}),(0,s.jsxs)("span",{children:["$",h.total.toFixed(2)]})]}),I>0&&(0,s.jsxs)("div",{className:"flex justify-between items-center text-base",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Env\xedo a domicilio"}),(0,s.jsxs)("span",{className:"text-orange-600",children:["$",I.toFixed(2)]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center text-lg font-semibold pt-2 border-t border-gray-300",children:[(0,s.jsx)("span",{children:"Total a Pagar:"}),(0,s.jsxs)("span",{className:"text-orange-600",children:["$",(h.total+I).toFixed(2)]})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notas Adicionales (Opcional)"}),(0,s.jsx)("textarea",{value:R.notes||"",onChange:e=>updateCheckoutData({notes:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all",placeholder:"Alguna instrucci\xf3n especial para tu pedido...",rows:3})]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center mt-8 pt-6 border-t border-gray-200",children:[(0,s.jsxs)("button",{onClick:()=>{F(e=>Math.max(e-1,0))},disabled:0===O,className:"flex items-center px-6 py-3 text-gray-600 hover:text-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[(0,s.jsx)(S.Z,{className:"w-5 h-5 mr-1"}),"Anterior"]}),O<z.length-1?(0,s.jsx)("button",{onClick:nextStep,disabled:L,className:"flex items-center px-8 py-3 bg-orange-600 text-white rounded-xl hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all transform hover:scale-105",children:L?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"animate-spin w-5 h-5 border-2 border-white border-t-transparent rounded-full mr-2"}),"Procesando..."]}):(0,s.jsxs)(s.Fragment,{children:["Continuar",(0,s.jsx)(T.Z,{className:"w-5 h-5 ml-1"})]})}):(0,s.jsx)("button",{onClick:handleComplete,disabled:L,className:"flex items-center px-8 py-3 bg-green-600 text-white rounded-xl hover:bg-green-700 disabled:opacity-50 transition-all transform hover:scale-105",children:L?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"animate-spin w-5 h-5 border-2 border-white border-t-transparent rounded-full mr-2"}),"Procesando..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(b.Z,{className:"w-5 h-5 mr-1"}),"Confirmar Pedido"]})})]})]})]})]})})})]})}function OrderSuccess(e){let{orderData:t,onNewOrder:a}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(p.default,{}),(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-emerald-50 to-teal-50 md:pt-24",children:(0,s.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,s.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-2xl mx-auto text-center",children:[(0,s.jsx)(i.E.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-24 h-24 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,s.jsx)(b.Z,{className:"w-12 h-12 text-green-600"})}),(0,s.jsx)(i.E.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-3xl font-bold text-gray-800 mb-2",children:"\xa1Pedido Enviado Exitosamente!"}),(0,s.jsx)(i.E.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-gray-600 mb-8",children:"Tu pedido ha sido enviado a nuestro equipo y ser\xe1 procesado pronto."}),(0,s.jsx)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white rounded-2xl p-6 shadow-lg mb-8",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"text-center md:text-left",children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-800 mb-2",children:"N\xfamero de Orden"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:t.orderNumber})]}),(0,s.jsxs)("div",{className:"text-center md:text-left",children:[(0,s.jsxs)("h3",{className:"font-semibold text-gray-800 mb-2 flex items-center justify-center md:justify-start",children:[(0,s.jsx)(N.Z,{className:"w-5 h-5 mr-2"}),"Tiempo Estimado"]}),(0,s.jsx)("p",{className:"text-xl font-semibold text-green-600",children:"pickup"===t.delivery.type?"15-20 min":"30-45 min"})]}),(0,s.jsxs)("div",{className:"text-center md:text-left",children:[(0,s.jsxs)("h3",{className:"font-semibold text-gray-800 mb-2 flex items-center justify-center md:justify-start",children:[(0,s.jsx)(E.Z,{className:"w-5 h-5 mr-2"}),"Datos de Contacto"]}),(0,s.jsx)("p",{className:"text-gray-700",children:t.contact.name}),(0,s.jsx)("p",{className:"text-gray-600",children:t.contact.phone})]}),(0,s.jsxs)("div",{className:"text-center md:text-left",children:[(0,s.jsxs)("h3",{className:"font-semibold text-gray-800 mb-2 flex items-center justify-center md:justify-start",children:[(0,s.jsx)(k.Z,{className:"w-5 h-5 mr-2"}),"M\xe9todo de Entrega"]}),(0,s.jsx)("p",{className:"text-gray-700",children:"pickup"===t.delivery.type?"Recojo en tienda":"Delivery a domicilio"}),t.delivery.address&&(0,s.jsx)("p",{className:"text-gray-600 text-sm",children:t.delivery.address})]}),(0,s.jsxs)("div",{className:"text-center md:text-left md:col-span-2",children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-800 mb-2",children:"M\xe9todo de Pago"}),(0,s.jsx)("p",{className:"text-gray-700",children:"cash"===t.payment.method?"Efectivo":"Tarjeta"}),"cash"===t.payment.method&&t.payment.cashAmount&&(0,s.jsxs)("p",{className:"text-gray-600 text-sm",children:["Paga con: $",t.payment.cashAmount.toFixed(2)]})]})]})}),(0,s.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-blue-50 rounded-xl p-6 mb-8",children:[(0,s.jsx)("h3",{className:"font-semibold text-blue-800 mb-2",children:"\xbfQu\xe9 sigue?"}),(0,s.jsx)("p",{className:"text-blue-700 text-sm",children:"Nuestro equipo ha recibido tu pedido y se pondr\xe1 en contacto contigo para confirmar los detalles. Te mantendremos informado sobre el estado de tu orden."})]}),(0,s.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,s.jsx)(i.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:a,className:"bg-gradient-to-r from-blue-500 via-secondary-600 to-indigo-600 hover:from-blue-600 hover:via-secondary-700 hover:to-indigo-700 text-white font-bold py-3 px-8 rounded-full shadow-lg transition-all duration-300",children:"Realizar Nuevo Pedido"}),(0,s.jsx)(u(),{href:"/menu",children:(0,s.jsx)(i.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"border-2 border-gray-300 hover:border-gray-400 text-gray-700 hover:text-gray-800 font-semibold py-3 px-8 rounded-full transition-all duration-300",children:"Ver Men\xfa"})})]})]})})})]})}function CartPage(){let{cart:e,updateQuantity:t,removeFromCart:a,clearCart:o}=(0,n.useCart)(),[h,g]=(0,r.useState)(!1),[y,b]=(0,r.useState)(null),handleCheckoutComplete=e=>{g(!1),e.success&&(b(e),o())},[f,j]=(0,r.useState)("pickup"),v="delivery"===f?30:0;return y?(0,s.jsx)(OrderSuccess,{orderData:y,onNewOrder:()=>{b(null)}}):0===e.itemCount?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(p.default,{}),(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-cyan-50 md:pt-24",children:(0,s.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,s.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center max-w-md mx-auto",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("div",{className:"w-32 h-32 mx-auto mb-6 bg-gray-100 rounded-full flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-16 h-16 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-1.35 5M7 13l1.35-5M7 13L5.65 18M7 13h10m0 0l1.35 5M17 13l-1.35 5M9 21h6"})})}),(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-3",children:"Tu carrito est\xe1 vac\xedo"}),(0,s.jsx)("p",{className:"text-gray-600 mb-8",children:"\xa1Descubre nuestros deliciosos platillos y agrega tus favoritos!"})]}),(0,s.jsx)(u(),{href:"/menu",children:(0,s.jsx)(i.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-gradient-to-r from-blue-500 via-secondary-600 to-indigo-600 hover:from-blue-600 hover:via-secondary-700 hover:to-indigo-700 text-white font-bold py-4 px-8 rounded-full shadow-lg transition-all duration-300",children:"Ver Men\xfa"})})]})})})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(p.default,{}),(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-cyan-50 md:pt-24",children:(0,s.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,s.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-4xl mx-auto",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:"Tu Carrito"}),(0,s.jsx)(i.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:o,className:"text-red-500 hover:text-red-700 font-medium transition-colors",children:"Vaciar carrito"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,s.jsx)("div",{className:"lg:col-span-2 space-y-4",children:e.items.map(e=>(0,s.jsx)(i.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-white rounded-xl shadow-sm p-6 hover:shadow-md transition-shadow",children:(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)("div",{className:"relative w-20 h-20 rounded-lg overflow-hidden bg-gray-100 flex-shrink-0",children:(0,s.jsx)(l(),{src:e.menuItem.imagen_url||"/images/menu/placeholder.jpg",alt:e.menuItem.nombre,fill:!0,className:"object-cover"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-800",children:e.menuItem.nombre}),(0,s.jsx)(i.E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>a(e.id),className:"text-red-500 hover:text-red-700 p-1",children:(0,s.jsx)(c.Z,{className:"w-5 h-5"})})]}),e.options&&(0,s.jsxs)("div",{className:"text-sm text-gray-600 mb-2 space-y-1",children:[e.options.complementos.length>0&&(0,s.jsxs)("p",{children:["Complementos: ",e.options.complementos.map(e=>e.name).join(", ")]}),e.options.soya&&(0,s.jsxs)("p",{children:["Salsa de soya: ",e.options.soya.name]}),e.options.cubiertos&&(0,s.jsxs)("p",{children:["Cubiertos: ",e.options.cubiertos.name]}),e.options.comentarios&&(0,s.jsxs)("p",{children:["Comentarios: ",e.options.comentarios]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("span",{className:"font-bold text-secondary-600",children:["$",e.subtotal.toFixed(2)]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(i.E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>t(e.id,e.quantity-1),className:"w-8 h-8 rounded-full bg-gray-100 hover:bg-gray-200 flex items-center justify-center transition-colors",children:(0,s.jsx)(d.Z,{className:"w-4 h-4"})}),(0,s.jsx)("span",{className:"font-semibold text-gray-800 min-w-[2rem] text-center",children:e.quantity}),(0,s.jsx)(i.E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>t(e.id,e.quantity+1),className:"w-8 h-8 rounded-full bg-gray-100 hover:bg-gray-200 flex items-center justify-center transition-colors",children:(0,s.jsx)(m.Z,{className:"w-4 h-4"})})]})]})]})]})},e.id))}),(0,s.jsx)("div",{className:"lg:col-span-1",children:(0,s.jsxs)(i.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white rounded-xl shadow-sm p-6 sticky top-24",children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-6",children:"Resumen del Pedido"}),(0,s.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Subtotal"}),(0,s.jsxs)("span",{className:"font-semibold",children:["$",e.total.toFixed(2)]})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Env\xedo"}),(0,s.jsx)("span",{className:"font-semibold ".concat(v>0?"text-orange-600":"text-green-600"),children:v>0?"$".concat(v.toFixed(2)):"Gratis"})]}),(0,s.jsx)("div",{className:"border-t pt-3",children:(0,s.jsxs)("div",{className:"flex justify-between text-lg font-bold",children:[(0,s.jsx)("span",{children:"Total"}),(0,s.jsxs)("span",{className:"text-secondary-600",children:["$",(e.total+v).toFixed(2)]})]})})]}),(0,s.jsx)(i.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{g(!0)},className:"w-full bg-gradient-to-r from-blue-500 via-secondary-600 to-indigo-600 hover:from-blue-600 hover:via-secondary-700 hover:to-indigo-700 text-white font-bold py-4 px-6 rounded-full shadow-lg transition-all duration-300 mb-4",children:"Finalizar Pedido"}),(0,s.jsx)(u(),{href:"/menu",children:(0,s.jsx)(i.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-800 font-semibold py-3 px-6 rounded-full transition-all duration-300",children:"Continuar Comprando"})}),(0,s.jsxs)("div",{className:"mt-6 pt-6 border-t",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-2",children:[(0,s.jsx)(x.Z,{className:"w-4 h-4 text-red-500"}),(0,s.jsx)("span",{children:"Preparado con amor sinaloense"})]}),(0,s.jsx)("div",{className:"text-xs text-gray-500",children:"Los precios incluyen IVA. Tiempo estimado de entrega: 30-45 min."})]})]})})]})]})})}),(0,s.jsx)(CheckoutModal,{isOpen:h,onClose:()=>g(!1),onComplete:e=>{j(e.delivery.type),handleCheckoutComplete(e)}})]})}},5846:function(e,t,a){"use strict";a.r(t);var s=a(7437),r=a(2265),n=a(5251),i=a(6691),o=a.n(i),l=a(1396),c=a.n(l),d=a(1809),m=a(3549);t.default=()=>{let[e,t]=(0,r.useState)(!1),{user:a,logout:i,isLoading:l}=(0,m.useAuth)();return(0,r.useEffect)(()=>{let handleScroll=()=>{t(window.scrollY>50)};return window.addEventListener("scroll",handleScroll),()=>window.removeEventListener("scroll",handleScroll)},[]),(0,s.jsx)(n.E.header,{initial:{y:-100},animate:{y:0},transition:{duration:.6},className:"md:fixed top-0 left-0 right-0 z-50 transition-all duration-300 ".concat(e?"bg-white/95 backdrop-blur-lg shadow-lg":"bg-transparent"),children:(0,s.jsx)("nav",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex justify-between md:justify-between items-center h-16 md:h-16",children:[(0,s.jsx)(n.E.div,{whileHover:{scale:1.05},className:"flex-shrink-0 md:flex-shrink-0 mx-auto md:mx-0",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(o(),{src:"/images/logo.svg",alt:"Mazuhi Sushi Logo",width:120,height:40,className:"h-10 w-auto hidden md:block"}),(0,s.jsx)(o(),{src:"/images/iconologo.svg",alt:"Mazuhi Sushi Logo",width:60,height:60,className:"h-12 w-auto md:hidden"})]})}),(0,s.jsx)("div",{className:"hidden md:block",children:(0,s.jsx)("div",{className:"ml-10 flex items-baseline space-x-8",children:[{name:"Inicio",href:"/"},{name:"Men\xfa",href:"/menu"},{name:"Ubicaci\xf3n",href:"/ubicacion"},{name:"Historia",href:"/historia"}].map((e,t)=>(0,s.jsx)(n.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1*t},children:(0,s.jsxs)(c(),{href:e.href,className:"text-gray-700 hover:text-primary-300 px-3 py-2 font-medium transition-colors duration-300 relative group font-condiment",style:{fontSize:"1.2rem"},children:[e.name,(0,s.jsx)("span",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-primary-300 transition-all duration-300 group-hover:w-full"})]})},e.name))})}),(0,s.jsx)("div",{className:"hidden md:flex items-center space-x-3",children:!l&&a?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3 bg-green-50 px-4 py-3 rounded-lg border border-green-200",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-green-500 text-white rounded-full flex items-center justify-center font-bold text-sm",children:a.nombre.charAt(0).toUpperCase()}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("span",{className:"text-sm font-semibold text-green-700",children:a.nombre}),0===a.email_verificado&&(0,s.jsx)("span",{className:"text-xs text-orange-600 font-medium",children:"⚠️ Email no verificado"})]})]}),(0,s.jsx)("button",{onClick:i,className:"flex items-center space-x-2 bg-red-600 hover:bg-red-700 text-white font-semibold py-2 px-4 rounded-lg shadow-md transition-all duration-200 text-sm",children:(0,s.jsx)("span",{children:"Cerrar Sesi\xf3n"})})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c(),{href:"/login",children:(0,s.jsxs)(n.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-primary-300 hover:bg-primary-400 text-white font-semibold py-3 px-6 rounded-lg shadow-md transition-all duration-200",children:[(0,s.jsx)(d.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"text-sm",children:"Iniciar Sesi\xf3n"})]})}),(0,s.jsx)(c(),{href:"/facturacion",children:(0,s.jsx)(n.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-gray-800 hover:bg-gray-700 text-white font-semibold py-3 px-6 rounded-lg shadow-md transition-all duration-200",children:(0,s.jsx)("span",{className:"text-sm",children:"Facturaci\xf3n"})})})]})})]})})})}},3549:function(e,t,a){"use strict";a.r(t),a.d(t,{AuthProvider:function(){return AuthProvider},useAuth:function(){return useAuth}});var s=a(7437),r=a(2265);let n=(0,r.createContext)(void 0),AuthProvider=e=>{let{children:t}=e,[a,i]=(0,r.useState)(null),[o,l]=(0,r.useState)(!0);(0,r.useEffect)(()=>{checkUser()},[]);let checkUser=async()=>{try{let e=localStorage.getItem("mazuhi_user");e&&i(JSON.parse(e))}catch(e){console.error("Error checking user:",e)}finally{l(!1)}},register=async e=>{try{localStorage.setItem("mazuhi_user",JSON.stringify(e)),i(e)}catch(e){throw console.error("Error registering user:",e),e}},login=async e=>{try{localStorage.setItem("mazuhi_user",JSON.stringify(e)),i(e)}catch(e){throw console.error("Error logging in user:",e),e}};return(0,s.jsx)(n.Provider,{value:{user:a,isLoading:o,register,login,logout:()=>{localStorage.removeItem("mazuhi_user"),i(null),window.location.href="/"},checkUser},children:t})},useAuth=()=>{let e=(0,r.useContext)(n);if(!e)throw Error("useAuth must be used within AuthProvider");return e}},139:function(e,t,a){"use strict";a.r(t),a.d(t,{CartProvider:function(){return CartProvider},useCart:function(){return useCart}});var s=a(7437),r=a(2265);let n={items:[],total:0,itemCount:0,isOpen:!1};function calculateSubtotal(e,t,a){let s=e.precio,r=t.complementos.reduce((e,t)=>e+(t.price||0),0);return(s+r)*a}function cartReducer(e,t){switch(t.type){case"ADD_TO_CART":{let{item:a,options:s}=t.payload,r="".concat(a.nombre,"-").concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),n={id:r,menuItem:a,quantity:1,options:s,subtotal:calculateSubtotal(a,s,1)},i=[...e.items,n],o=i.reduce((e,t)=>e+t.subtotal,0),l=i.reduce((e,t)=>e+t.quantity,0);return{...e,items:i,total:o,itemCount:l}}case"REMOVE_FROM_CART":{let a=e.items.filter(e=>e.id!==t.payload),s=a.reduce((e,t)=>e+t.subtotal,0),r=a.reduce((e,t)=>e+t.quantity,0);return{...e,items:a,total:s,itemCount:r}}case"UPDATE_QUANTITY":{let{id:a,quantity:s}=t.payload;if(s<=0)return cartReducer(e,{type:"REMOVE_FROM_CART",payload:a});let r=e.items.map(e=>{if(e.id===a){let t=calculateSubtotal(e.menuItem,e.options,s);return{...e,quantity:s,subtotal:t}}return e}),n=r.reduce((e,t)=>e+t.subtotal,0),i=r.reduce((e,t)=>e+t.quantity,0);return{...e,items:r,total:n,itemCount:i}}case"CLEAR_CART":return n;case"TOGGLE_CART":return{...e,isOpen:!e.isOpen};case"LOAD_CART":return t.payload;default:return e}}let i=(0,r.createContext)(void 0);function CartProvider(e){let{children:t}=e,[a,o]=(0,r.useReducer)(cartReducer,n);(0,r.useEffect)(()=>{try{let e=localStorage.getItem("sushi-cart");if(e){let t=JSON.parse(e);o({type:"LOAD_CART",payload:t})}}catch(e){console.error("Error loading cart from localStorage:",e)}},[]),(0,r.useEffect)(()=>{try{localStorage.setItem("sushi-cart",JSON.stringify(a))}catch(e){console.error("Error saving cart to localStorage:",e)}},[a]);let removeFromCart=e=>{o({type:"REMOVE_FROM_CART",payload:e})};return(0,s.jsx)(i.Provider,{value:{cart:a,addToCart:(e,t)=>{o({type:"ADD_TO_CART",payload:{item:e,options:t}})},removeFromCart,updateQuantity:(e,t)=>{t<=0&&removeFromCart(e)},clearCart:()=>{o({type:"CLEAR_CART"})},toggleCart:()=>{o({type:"TOGGLE_CART"})}},children:t})}function useCart(){let e=(0,r.useContext)(i);if(void 0===e)throw Error("useCart must be used within a CartProvider");return e}},986:function(e,t,a){"use strict";a.d(t,{o:function(){return s}});let s=[{value:20,label:"$20"},{value:50,label:"$50"},{value:100,label:"$100"},{value:200,label:"$200"},{value:500,label:"$500"},{value:1e3,label:"$1,000"}]},3242:function(e,t,a){"use strict";a.d(t,{Gl:function(){return sendWaiterNotification},KU:function(){return sendOrderToTelegram},m1:function(){return generateOrderNumber}});let generateOrderNumber=()=>{let e=Date.now().toString().slice(-6),t=Math.floor(1e3*Math.random()).toString().padStart(3,"0");return"MZ".concat(e).concat(t)},sendOrderToTelegram=async(e,t,a)=>{try{let s=await fetch("/api/telegram",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({orderNumber:a,checkoutData:e,cart:t})}),r=await s.json();if(r.success)return{success:!0,message:"Pedido enviado exitosamente",orderNumber:r.orderNumber};return{success:!1,message:r.message||"Error al enviar el pedido"}}catch(e){return console.error("Error sending order to Telegram:",e),{success:!1,message:"Error de conexi\xf3n. Por favor intenta nuevamente."}}},sendWaiterNotification=async e=>{try{let t=await fetch("/api/waiter-notification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({cart:e})}),a=await t.json();if(a.success)return{success:!0,message:"Notificaci\xf3n de mesero enviada"};return{success:!1,message:a.message||"Error al enviar notificaci\xf3n"}}catch(e){return console.error("Error sending waiter notification:",e),{success:!1,message:"Error de conexi\xf3n"}}}}},function(e){e.O(0,[597,358,744],function(){return e(e.s=8385)}),_N_E=e.O()}]);