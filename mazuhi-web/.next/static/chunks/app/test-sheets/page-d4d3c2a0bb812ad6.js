(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5],{4458:function(e,n,s){Promise.resolve().then(s.bind(s,1658))},1658:function(e,n,s){"use strict";s.r(n),s.d(n,{default:function(){return TestSheetsPage}});var t=s(7437),o=s(2265),a=s(2601);function TestSheetsPage(){let[e,n]=(0,o.useState)(""),[s,r]=(0,o.useState)(!1),testConnection=async()=>{r(!0),n("Probando conexi\xf3n...");try{let a=await fetch("/api/menu",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"test"})}),r=await a.json();if(r.success){var e,s,t,o;n("✅ Conexi\xf3n exitosa!\n\nDocumento: ".concat(null===(e=r.sheetInfo)||void 0===e?void 0:e.title,"\nHojas disponibles: ").concat((null===(t=r.sheetInfo)||void 0===t?void 0:null===(s=t.sheets)||void 0===s?void 0:s.join(", "))||"N/A","\nTotal de hojas: ").concat((null===(o=r.sheetInfo)||void 0===o?void 0:o.sheetCount)||0))}else n("❌ Error: ".concat(r.message))}catch(e){n("❌ Error de conexi\xf3n: ".concat(e instanceof Error?e.message:"Error desconocido"))}finally{r(!1)}},testMenuData=async()=>{r(!0),n("Obteniendo datos del men\xfa...");try{let e=await fetch("/api/menu"),s=await e.json();if(s.success){let e=s.menu.map(e=>"".concat(e.nombre,": ").concat(e.items.length," items")).join("\n");n("✅ Datos del men\xfa obtenidos exitosamente!\n\nCategor\xedas encontradas:\n".concat(e,"\n\nTotal de categor\xedas: ").concat(s.menu.length))}else n("❌ Error obteniendo men\xfa: ".concat(s.message))}catch(e){n("❌ Error: ".concat(e instanceof Error?e.message:"Error desconocido"))}finally{r(!1)}};return(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 py-12",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto px-4",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-center mb-8",children:"Prueba de Conexi\xf3n Google Sheets"}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,t.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,t.jsx)("button",{onClick:testConnection,disabled:s,className:"w-full bg-blue-500 hover:bg-blue-600 disabled:bg-gray-400 text-white font-bold py-3 px-6 rounded-lg transition-colors",children:s?"Probando...":"Probar Conexi\xf3n"}),(0,t.jsx)("button",{onClick:testMenuData,disabled:s,className:"w-full bg-green-500 hover:bg-green-600 disabled:bg-gray-400 text-white font-bold py-3 px-6 rounded-lg transition-colors",children:s?"Cargando...":"Cargar Datos del Men\xfa"})]}),e&&(0,t.jsxs)("div",{className:"bg-gray-100 rounded-lg p-4",children:[(0,t.jsx)("h3",{className:"font-bold mb-2",children:"Resultado:"}),(0,t.jsx)("pre",{className:"whitespace-pre-wrap text-sm text-gray-800",children:e})]})]}),(0,t.jsxs)("div",{className:"mt-8 bg-white rounded-lg shadow-lg p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Variables de Entorno"}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"GOOGLE_SERVICE_ACCOUNT_EMAIL:"}),(0,t.jsx)("span",{className:a.env.NEXT_PUBLIC_TEST_EMAIL?"text-green-600":"text-red-600",children:a.env.NEXT_PUBLIC_TEST_EMAIL||" No configurado"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"GOOGLE_SHEET_ID:"}),(0,t.jsx)("span",{className:a.env.NEXT_PUBLIC_TEST_SHEET_ID?"text-green-600":"text-red-600",children:a.env.NEXT_PUBLIC_TEST_SHEET_ID||" No configurado (normal en cliente)"})]})]}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-4",children:"Nota: Las variables de entorno del servidor no son visibles en el cliente por seguridad."})]})]})})}}},function(e){e.O(0,[597,358,744],function(){return e(e.s=4458)}),_N_E=e.O()}]);